<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="rbs_Mobile_bank_BM" resourceRoot="" soapui-version="4.6.4" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.ProTestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="MobileBank"/>
  <con:entry key="Password" value=""/>
  <con:entry key="soapui-setings.xml Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value="TestSuite Report"/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://test.paymentgate.ru" type="rest" id="9c28556c-e93f-41bc-bf48-8e689487c1c7" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint></con:endpoints><con:resource name="startAuthInBank.do" path="/startAuthInBank.do" id="215c20af-57d8-4939-9480-694a3673e8d1"><con:settings/><con:parameters><con:parameter><con:name>deviceModel</con:name><con:value>Elektronika1975</con:value><con:style>QUERY</con:style><con:default>Elektronika1975</con:default></con:parameter><con:parameter><con:name>uniqueDeviceId</con:name><con:value>977665</con:value><con:style>QUERY</con:style><con:default>977665</con:default></con:parameter><con:parameter><con:name>bankIdType</con:name><con:value>ACCOUNT</con:value><con:style>QUERY</con:style><con:default>ACCOUNT</con:default></con:parameter><con:parameter><con:name>bankId</con:name><con:value>42306810901080101538</con:value><con:style>QUERY</con:style><con:default>42306810901080101538</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>osVersion</con:name><con:value>7.1</con:value><con:style>QUERY</con:style><con:default>7.1</con:default></con:parameter><con:parameter><con:name>geo</con:name><con:value>[0.000000, 0.000000]</con:value><con:style>QUERY</con:style><con:default>[0.000000, 0.000000]</con:default></con:parameter><con:parameter><con:name>appVersion</con:name><con:value>1.0</con:value><con:style>QUERY</con:style><con:default>1.0</con:default></con:parameter><con:parameter><con:name>osType</con:name><con:value>iOS</con:value><con:style>QUERY</con:style><con:default>iOS</con:default></con:parameter><con:parameter><con:name>imei</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="fa803d49-256a-4aad-800c-85cde693617d"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:request name="Request 1" mediaType="application/x-www-form-urlencoded" id="c09b41d8-2b30-40a6-aaad-b1ef14b11f51" postQueryString="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="osVersion" value="4.4.2"/>
  <con:entry key="uniqueDeviceId" value="9166150899"/>
  <con:entry key="imei" value="357507054436269/01"/>
  <con:entry key="deviceModel" value="Samsung GALAXY Note 3"/>
  <con:entry key="osType" value="Android"/>
  <con:entry key="bankId" value="40817810800790100204"/>
</con:parameters><con:parameterOrder><con:entry>deviceModel</con:entry><con:entry>uniqueDeviceId</con:entry><con:entry>bankIdType</con:entry><con:entry>bankId</con:entry><con:entry>isMobile</con:entry><con:entry>osVersion</con:entry><con:entry>geo</con:entry><con:entry>appVersion</con:entry><con:entry>osType</con:entry><con:entry>imei</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="authByInstallation.do" path="/authByInstallation.do" id="5b1a8a8c-8cea-4071-b86a-c5a7c5e393cc"><con:settings/><con:parameters><con:parameter><con:name>uniqueDeviceId</con:name><con:value>970675</con:value><con:style>QUERY</con:style><con:default>970675</con:default></con:parameter><con:parameter><con:name>password</con:name><con:value>11111</con:value><con:style>QUERY</con:style><con:default>11111</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>osVersion</con:name><con:value>7.1</con:value><con:style>QUERY</con:style><con:default>7.1</con:default></con:parameter><con:parameter><con:name>geo</con:name><con:value>[0.000000, 0.000000]</con:value><con:style>QUERY</con:style><con:default>[0.000000, 0.000000]</con:default></con:parameter><con:parameter><con:name>appVersion</con:name><con:value>1.0</con:value><con:style>QUERY</con:style><con:default>1.0</con:default></con:parameter><con:parameter><con:name>osType</con:name><con:value>iOS</con:value><con:style>QUERY</con:style><con:default>iOS</con:default></con:parameter><con:parameter><con:name>deviceModel</con:name><con:value>Sony1</con:value><con:style>QUERY</con:style><con:default>Sony1</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="6bd91ff7-2048-469f-8e6d-0a2fdf244b52"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="6981f46f-1b7e-47b0-a7ba-d7846619581f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>uniqueDeviceId</con:entry><con:entry>password</con:entry><con:entry>isMobile</con:entry><con:entry>osVersion</con:entry><con:entry>geo</con:entry><con:entry>appVersion</con:entry><con:entry>osType</con:entry><con:entry>deviceModel</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="completeAuthInBank.do" path="/completeAuthInBank.do" id="093f35fc-e5bc-4fdb-8202-d0b8b30065cf"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1400664491446</con:value><con:style>QUERY</con:style><con:default>1400664491446</con:default></con:parameter><con:parameter><con:name>code</con:name><con:value>556679</con:value><con:style>QUERY</con:style><con:default>556679</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="bfa688ab-c4f8-4ad1-9709-5202f8ba5ef3"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="d4f43e93-1976-4fa3-9e84-006e1bc0a74f"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getUser.do" path="/getUser.do" id="da932ab5-4293-4cda-9599-f854461c22d6"><con:settings/><con:parameters><con:parameter><con:name>userId</con:name><con:value>3F785630564648BFB72727892C52A357</con:value><con:style>QUERY</con:style><con:default>3F785630564648BFB72727892C52A357</con:default></con:parameter><con:parameter><con:name>sessionId</con:name><con:value>116997CDB0084027BDF39537FCC9E168</con:value><con:style>QUERY</con:style><con:default>116997CDB0084027BDF39537FCC9E168</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="08afed82-7e56-4297-8f7d-5987618dae4b"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="00b41816-6c1f-488c-a70b-361b6bfac7a0"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="renewUserSession.do" path="/renewUserSession.do" id="594c9c2d-6565-41c8-90a5-bf0738bff5e5"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>116997CDB0084027BDF39537FCC9E168</con:value><con:style>QUERY</con:style><con:default>116997CDB0084027BDF39537FCC9E168</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="d08b7150-f9d1-479f-99f1-48cd987c8279"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="ae50351f-7684-41ce-96ba-f5df9976209a"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="logout.do" path="/logout.do" id="466a749c-cf92-4f3f-9905-34366271216f"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>116997CDB0084027BDF39537FCC9E168</con:value><con:style>QUERY</con:style><con:default>116997CDB0084027BDF39537FCC9E168</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="39c8a28c-899b-408d-8566-9d3d55620ee7"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="3c456575-ed26-40c2-9aee-69519bc2bfdf"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="createInstallation.do" path="/createInstallation.do" id="e80e8e06-f209-4ce1-b6fa-edb28abeaebf"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1401106038135</con:value><con:style>QUERY</con:style><con:default>1401106038135</con:default></con:parameter><con:parameter><con:name>password</con:name><con:value>11111</con:value><con:style>QUERY</con:style><con:default>11111</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>email</con:name><con:value>tto@gh.ru</con:value><con:style>QUERY</con:style><con:default>tto@gh.ru</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="cf598832-85ed-4fbe-a75b-404fb3f0f944"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="4252bec3-507e-4b75-b10a-91956ff359ae"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getInstallations.do" path="/getInstallations.do" id="7232eb39-4a73-4b5d-a8b4-384b58bde2fc"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1400664850072</con:value><con:style>QUERY</con:style><con:default>1400664850072</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="24b2c3df-23fd-44cb-8d9f-7ce156692dae"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="934c7235-50f9-4ab2-9db1-8c80624f14a8"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="changeInstallation.do" path="/changeInstallation.do" id="1b925baf-a2e2-4519-9e9e-0a4f3092d02b"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1401110910402</con:value><con:style>QUERY</con:style><con:default>1401110910402</con:default></con:parameter><con:parameter><con:name>installationId</con:name><con:value>4EC834040C3F4F4FA75EBD960027BB62</con:value><con:style>QUERY</con:style><con:default>4EC834040C3F4F4FA75EBD960027BB62</con:default></con:parameter><con:parameter><con:name>mnemonic</con:name><con:value>Роль</con:value><con:style>QUERY</con:style><con:default>Роль</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="16123ae0-4533-45ab-97b8-259d46e187cc"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="59c2dcfc-19d5-4806-bc30-8d01430b267c"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="deleteInstallation.do" path="/deleteInstallation.do" id="bacfca9f-d039-4b52-a084-dedc41660186"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1400681679138</con:value><con:style>QUERY</con:style><con:default>1400681679138</con:default></con:parameter><con:parameter><con:name>installationId</con:name><con:value>9CA1F31CB0FC43AF870C38CE9EB12D5F</con:value><con:style>QUERY</con:style><con:default>9CA1F31CB0FC43AF870C38CE9EB12D5F</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="eb7e0728-60cb-4b5e-8dbb-46abc403a3a8"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="f42268ec-3ea5-4b1e-8404-d63227bd9261"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getProductBindings.do" path="/getProductBindings.do" id="d679938f-ee79-4fd4-a8c1-e38d3deffad2"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1400684298144</con:value><con:style>QUERY</con:style><con:default>1400684298144</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>refresh</con:name><con:value>false</con:value><con:style>QUERY</con:style><con:default>false</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="999c5796-da1a-4221-a437-3e8f8716f1cc"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="555f9341-0d37-4edd-8eb9-1e8b7a343a9e"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getFullProductBinding.do" path="/getFullProductBinding.do" id="ce980d1d-5c6c-4600-aed7-b01fe43f1bcf"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1400685472429</con:value><con:style>QUERY</con:style><con:default>1400685472429</con:default></con:parameter><con:parameter><con:name>bindingId</con:name><con:value>498160E6C76F460FB0ACD939755CDDB8</con:value><con:style>QUERY</con:style><con:default>498160E6C76F460FB0ACD939755CDDB8</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>refresh</con:name><con:value>false</con:value><con:style>QUERY</con:style><con:default>false</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="f28b5fbf-b52d-4738-82ba-a8f88b4e633c"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="2d55f43c-98e6-4061-863b-59174859fc23"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getProductBindingHistory.do" path="/getProductBindingHistory.do" id="efd0a0f1-a937-4ee5-a15a-d18e2ef6bd1d"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1400738152808</con:value><con:style>QUERY</con:style><con:default>1400738152808</con:default></con:parameter><con:parameter><con:name>bindingId</con:name><con:value>498160E6C76F460FB0ACD939755CDDB8</con:value><con:style>QUERY</con:style><con:default>498160E6C76F460FB0ACD939755CDDB8</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="78dfd08f-baec-48bf-abfb-4bac72bdc8a6"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="d4ea3ea1-ec44-4ffc-ada7-ae14b0294dff"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getTransferTargets.do" path="/getTransferTargets.do" id="49faca2e-772d-4f3f-b90a-8a6d6a9c1f7f"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1400745006848</con:value><con:style>QUERY</con:style><con:default>1400745006848</con:default></con:parameter><con:parameter><con:name>bindingId</con:name><con:value>DA4FB6BF67D0413CA6D967851A602AFF</con:value><con:style>QUERY</con:style><con:default>DA4FB6BF67D0413CA6D967851A602AFF</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="0ff60be9-e52f-4d55-a674-84bb6f1a5ba5"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="3d088fac-a154-4d6a-858f-c2a5243809c8"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getIssuerGroup.do" path="/getIssuerGroup.do" id="288eba17-d557-4d3e-b1a6-a3e52989bb1c"><con:settings/><con:parameters><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>bin</con:name><con:value>411111</con:value><con:style>QUERY</con:style><con:default>411111</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="bca27e45-045c-4525-8de1-80353082dce7"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="92a2aa76-d153-4339-9eda-69d3c082aa67"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="bin" value="522222" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource><con:resource name="changeUser.do" path="/changeUser.do" id="bd83a18b-8cb4-48dc-8beb-b6f2381cecdf"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>3F38D343ACC246CBBF1B850CFF2F763F</con:value><con:style>QUERY</con:style><con:default>3F38D343ACC246CBBF1B850CFF2F763F</con:default></con:parameter><con:parameter><con:name>email</con:name><con:value>cherkashenko@bpcbt.com</con:value><con:style>QUERY</con:style><con:default>cherkashenko@bpcbt.com</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>false</con:value><con:style>QUERY</con:style><con:default>false</con:default></con:parameter><con:parameter><con:name>avatar</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="2f9c5186-7fe6-414d-a6fe-5939c7a424a8"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="fdea5dd0-89ef-47c3-961b-b3dab11797f9"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>sessionId</con:entry><con:entry>email</con:entry><con:entry>isMobile</con:entry><con:entry>avatar</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="getPage.do" path="/getPage.do" id="4eb9fc2f-a94e-45a5-9615-45be6f04fc5d"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>C3E7E78DF3C5406F8B5E1780356F3AFA</con:value><con:style>QUERY</con:style><con:default>C3E7E78DF3C5406F8B5E1780356F3AFA</con:default></con:parameter><con:parameter><con:name>page</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>pageSize</con:name><con:value>5</con:value><con:style>QUERY</con:style><con:default>5</con:default></con:parameter><con:parameter><con:name>finType</con:name><con:value>[OUT]</con:value><con:style>QUERY</con:style><con:default>[OUT]</con:default></con:parameter><con:parameter><con:name>services</con:name><con:value>[6]</con:value><con:style>QUERY</con:style><con:default>[6]</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true </con:value><con:style>QUERY</con:style><con:default>true </con:default></con:parameter><con:parameter><con:name>column</con:name><con:value>DATE</con:value><con:style>QUERY</con:style><con:default>DATE</con:default></con:parameter><con:parameter><con:name>direction</con:name><con:value>DESC</con:value><con:style>QUERY</con:style><con:default>DESC</con:default></con:parameter><con:parameter><con:name>dateFrom</con:name><con:value>20/07/2013 00:00:00</con:value><con:style>QUERY</con:style><con:default>20/07/2013 00:00:00</con:default></con:parameter><con:parameter><con:name>bindingId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>dateTo</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="5ae74e4a-2e44-443a-b513-715d9315dc0e"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="856c6b84-d634-41aa-8269-86b06cd18c58"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>sessionId</con:entry><con:entry>bindingId</con:entry><con:entry>dateFrom</con:entry><con:entry>dateTo</con:entry><con:entry>column</con:entry><con:entry>direction</con:entry><con:entry>page</con:entry><con:entry>pageSize</con:entry><con:entry>finType</con:entry><con:entry>services</con:entry><con:entry>isMobile</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="getSize.do" path="/getSize.do" id="375b937b-52f2-4afb-93c9-5defd998d4e7"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>8A0A5CA0741F477CBA6B92A5E66754CF</con:value><con:style>QUERY</con:style><con:default>8A0A5CA0741F477CBA6B92A5E66754CF</con:default></con:parameter><con:parameter><con:name>dateFrom</con:name><con:value>16/01/2013 11:00:00</con:value><con:style>QUERY</con:style><con:default>16/01/2013 11:00:00</con:default></con:parameter><con:parameter><con:name>dateTo</con:name><con:value>16/01/2013 19:00:00</con:value><con:style>QUERY</con:style><con:default>16/01/2013 19:00:00</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>bindingId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>finType</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>services</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="b080a65d-e6a0-4011-bd9c-e7f046d8f8eb"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="e3419c95-923b-4762-815a-d2d36c0114db"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="finType" value="[IN,OUT]" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>sessionId</con:entry><con:entry>bindingId</con:entry><con:entry>dateFrom</con:entry><con:entry>dateTo</con:entry><con:entry>finType</con:entry><con:entry>services</con:entry><con:entry>isMobile</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="createTemplate.do" path="/createTemplate.do" id="c86aad2b-7e77-497a-a8d6-d8371959d4d0"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>BA2B57E934DD43959A135604DB8D54F9</con:value><con:style>QUERY</con:style><con:default>BA2B57E934DD43959A135604DB8D54F9</con:default></con:parameter><con:parameter><con:name>mdOrder</con:name><con:value>23a65b0c-7dcf-4a78-98fc-733b48774693</con:value><con:style>QUERY</con:style><con:default>23a65b0c-7dcf-4a78-98fc-733b48774693</con:default></con:parameter><con:parameter><con:name>templateName</con:name><con:value>Мой мобильный</con:value><con:style>QUERY</con:style><con:default>Мой мобильный</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="ac6afdd1-8158-46f6-b2af-1dc1dac71f21"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="d46fa1d9-1572-45df-9539-f2c595bc4f8b"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getTemplates.do" path="/getTemplates.do" id="d0c20f94-9334-41ec-b368-4316aae21b01"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>4CF52E8C57A94028AC106C87F8FB6482</con:value><con:style>QUERY</con:style><con:default>4CF52E8C57A94028AC106C87F8FB6482</con:default></con:parameter><con:parameter><con:name>category</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>serviceId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="58b33235-acfb-4077-b765-5eb40c10e127"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="2b8a7f14-f26f-4515-91df-2847284ab6ee"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>sessionId</con:entry><con:entry>category</con:entry><con:entry>serviceId</con:entry><con:entry>isMobile</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="updateTemplate.do" path="/updateTemplate.do" id="e15350dc-03eb-4f0b-aec2-61ded358ceb8"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>4CF52E8C57A94028AC106C87F8FB6482</con:value><con:style>QUERY</con:style><con:default>4CF52E8C57A94028AC106C87F8FB6482</con:default></con:parameter><con:parameter><con:name>templateId</con:name><con:value>7905C4AA4E054796900F95D2504BAEAD</con:value><con:style>QUERY</con:style><con:default>7905C4AA4E054796900F95D2504BAEAD</con:default></con:parameter><con:parameter><con:name>templateName</con:name><con:value>Перевод на карту маме</con:value><con:style>QUERY</con:style><con:default>Перевод на карту маме</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="0c489084-87fa-4587-8ccd-31076876a62e"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="731693ec-d613-4c27-a37d-39de7aabcf1e"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="deleteTemplate.do" path="/deleteTemplate.do" id="6fcbc595-658a-4be9-958d-4406624d50e2"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>4CF52E8C57A94028AC106C87F8FB6482</con:value><con:style>QUERY</con:style><con:default>4CF52E8C57A94028AC106C87F8FB6482</con:default></con:parameter><con:parameter><con:name>templateId</con:name><con:value>7905C4AA4E054796900F95D2504BAEAD</con:value><con:style>QUERY</con:style><con:default>7905C4AA4E054796900F95D2504BAEAD</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="e6743e91-af14-4677-aa08-5c79658ed105"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="9515c2db-1f30-4f5b-ab5a-c64abf6b92b2"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="createBindingAfterPayment.do" path="/createBindingByPayment.do" id="7f5edb10-4435-48e4-97fa-0379f9536e7b"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>6CEA0624E5F546FA8521ABB2FDF2FED8</con:value><con:style>QUERY</con:style><con:default>6CEA0624E5F546FA8521ABB2FDF2FED8</con:default></con:parameter><con:parameter><con:name>mdOrder</con:name><con:value>85825978-0f7c-408e-89c7-cd2e98938030</con:value><con:style>QUERY</con:style><con:default>85825978-0f7c-408e-89c7-cd2e98938030</con:default></con:parameter><con:parameter><con:name>mnemonic</con:name><con:value>Моя карта</con:value><con:style>QUERY</con:style><con:default>Моя карта</con:default></con:parameter><con:parameter><con:name>isDefaultBinding</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>false</con:value><con:style>QUERY</con:style><con:default>false</con:default></con:parameter><con:parameter><con:name>bindingParams</con:name><con:value>{"color":"red"}</con:value><con:style>QUERY</con:style><con:default>{"color":"red"}</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="aba3d346-6203-4723-af5d-2ad1222617af"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="a33eb65a-4aff-4fae-b7fe-dffd2312fe59"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>sessionId</con:entry><con:entry>mdOrder</con:entry><con:entry>mnemonic</con:entry><con:entry>isDefaultBinding</con:entry><con:entry>isMobile</con:entry><con:entry>bindingParams</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="updateBinding.do" path="/updateBinding.do" id="ea178364-1685-45d3-940f-f4820e69f7ce"><con:settings/><con:parameters><con:parameter><con:name>bindingId</con:name><con:value>C36A9B48EF6F4FD4856BF8D1D3EAE4CE</con:value><con:style>QUERY</con:style><con:default>C36A9B48EF6F4FD4856BF8D1D3EAE4CE</con:default></con:parameter><con:parameter><con:name>cardStatus</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default></con:parameter><con:parameter><con:name>sessionId</con:name><con:value>4FFC2B4468F845A4B0802524FC7A0356</con:value><con:style>QUERY</con:style><con:default>4FFC2B4468F845A4B0802524FC7A0356</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>false</con:value><con:style>QUERY</con:style><con:default>false</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="6bc08cf6-d8e8-40d2-9874-e458e4225fb2"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="069dcefa-7365-49a9-9036-23dcdffb7936"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>bindingId</con:entry><con:entry>sessionId</con:entry><con:entry>cardStatus</con:entry><con:entry>isMobile</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="changeBindingParameters.do" path="/changeBindingParameters.do" id="f8fbed0b-1424-4f40-a6f6-874fb83a8279"><con:settings/><con:parameters><con:parameter><con:name>bindingId</con:name><con:value>B762FCE743924343A982474B8C6B2EE9</con:value><con:style>QUERY</con:style><con:default>B762FCE743924343A982474B8C6B2EE9</con:default></con:parameter><con:parameter><con:name>sessionId</con:name><con:value>36C772CBBA1B4B6CA5BE650AD77F2023</con:value><con:style>QUERY</con:style><con:default>36C772CBBA1B4B6CA5BE650AD77F2023</con:default></con:parameter><con:parameter><con:name>mnemonic</con:name><con:value>тест мнемоника биндинга этого</con:value><con:style>QUERY</con:style><con:default>тест мнемоника биндинга этого</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>false</con:value><con:style>QUERY</con:style><con:default>false</con:default></con:parameter><con:parameter><con:name>bindingParams</con:name><con:value>{"color":"red"}</con:value><con:style>QUERY</con:style><con:default>{"color":"red"}</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="8fe9cc0f-9918-4f29-8838-f763e63cb620"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="92181ed3-4c83-449d-8800-a86fb5cfe829"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>bindingId</con:entry><con:entry>sessionId</con:entry><con:entry>mnemonic</con:entry><con:entry>isMobile</con:entry><con:entry>bindingParams</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="getServices.do" path="/getServices.do" id="c8576889-7e13-4392-851d-4c0b88eadf90"><con:settings/><con:parameters><con:parameter><con:name>currentVersion</con:name><con:value>1.0</con:value><con:style>QUERY</con:style><con:default>1.0</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="5f101dc4-18ec-4bbe-8826-04175c921580"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="56aad585-dd89-4d54-9424-63300656cd71"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getPaymentCapabilities.do" path="/getPaymentCapabilities.do" id="17a9a5fd-7adf-498a-871c-7fff948fbaea"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1400747297719</con:value><con:style>QUERY</con:style><con:default>1400747297719</con:default></con:parameter><con:parameter><con:name>bindingId</con:name><con:value>DA4FB6BF67D0413CA6D967851A602AFF</con:value><con:style>QUERY</con:style><con:default>DA4FB6BF67D0413CA6D967851A602AFF</con:default></con:parameter><con:parameter><con:name>serviceId</con:name><con:value>300</con:value><con:style>QUERY</con:style><con:default>300</con:default></con:parameter><con:parameter><con:name>amount</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default></con:parameter><con:parameter><con:name>currency</con:name><con:value>643</con:value><con:style>QUERY</con:style><con:default>643</con:default></con:parameter><con:parameter><con:name>serviceParams</con:name><con:value>{"targetBindingId":"8885D9BE863A4120AD524DCBF67DD972","targetCurrency":"840","transactionCurrency":"target","sourceCurrency":"643"}</con:value><con:style>QUERY</con:style><con:default>{"targetBindingId":"8885D9BE863A4120AD524DCBF67DD972","targetCurrency":"840","transactionCurrency":"target","sourceCurrency":"643"}</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>pan</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>expiry</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cardholderName</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="a99fa003-0ee1-4649-85e8-7d3c9a656518"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="15f3192d-991c-4055-9b6a-a41151b069b6"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>sessionId</con:entry><con:entry>bindingId</con:entry><con:entry>serviceId</con:entry><con:entry>amount</con:entry><con:entry>currency</con:entry><con:entry>isMobile</con:entry><con:entry>pan</con:entry><con:entry>expiry</con:entry><con:entry>cardholderName</con:entry><con:entry>serviceParams</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="payment.do" path="/payment.do" id="159cf6e1-8d49-4a96-b3b4-71d4f58f8ff4"><con:settings/><con:parameters><con:parameter><con:name>serviceId</con:name><con:value>3</con:value><con:style>QUERY</con:style><con:default>3</con:default></con:parameter><con:parameter><con:name>serviceParams</con:name><con:value>{"phone":"9261707753"}</con:value><con:style>QUERY</con:style><con:default>{"phone":"9261707753"}</con:default></con:parameter><con:parameter><con:name>amount</con:name><con:value>500,00</con:value><con:style>QUERY</con:style><con:default>500,00</con:default></con:parameter><con:parameter><con:name>currency</con:name><con:value>643</con:value><con:style>QUERY</con:style><con:default>643</con:default></con:parameter><con:parameter><con:name>bindingId</con:name><con:value>77EDE2000A42411FBA8708D7A29B4D89</con:value><con:style>QUERY</con:style><con:default>77EDE2000A42411FBA8708D7A29B4D89</con:default></con:parameter><con:parameter><con:name>cvc</con:name><con:value>123</con:value><con:style>QUERY</con:style><con:default>123</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>sessionId</con:name><con:value>DA495974B14149EBA25A47015480B9CE</con:value><con:style>QUERY</con:style><con:default>DA495974B14149EBA25A47015480B9CE</con:default></con:parameter><con:parameter><con:name>geo</con:name><con:value>["15.234532","34.342156"]</con:value><con:style>QUERY</con:style><con:default>["15.234532","34.342156"]</con:default></con:parameter><con:parameter><con:name>mdOrder</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>pan</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>expiry</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cardholderName</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="fcf170b8-a783-4311-aa71-9db805076978"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="3ffa325e-786e-498b-84b9-ce961ef4a58d"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>sessionId</con:entry><con:entry>mdOrder</con:entry><con:entry>bindingId</con:entry><con:entry>pan</con:entry><con:entry>expiry</con:entry><con:entry>cardholderName</con:entry><con:entry>cvc</con:entry><con:entry>serviceId</con:entry><con:entry>serviceParams</con:entry><con:entry>amount</con:entry><con:entry>currency</con:entry><con:entry>isMobile</con:entry><con:entry>geo</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="confirmTransaction.do" path="/confirmTransaction.do" id="f5022221-64f0-45e5-b6e7-c5a02e1ddbd8"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1400750329000</con:value><con:style>QUERY</con:style><con:default>1400750329000</con:default></con:parameter><con:parameter><con:name>mdOrder</con:name><con:value>0F2902ED52A14C8580F06B4C482BEA5B</con:value><con:style>QUERY</con:style><con:default>0F2902ED52A14C8580F06B4C482BEA5B</con:default></con:parameter><con:parameter><con:name>code</con:name><con:value>290219</con:value><con:style>QUERY</con:style><con:default>290219</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="4d874690-644c-4c45-88c6-7a40f49c2f67"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="b202b174-4bdb-493e-94cf-85cbe982ce01"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getPaymentResult.do" path="/getPaymentResult.do" id="5b9df318-71dd-422c-b246-9cba06f6ac39"><con:settings/><con:parameters><con:parameter><con:name>mdOrder</con:name><con:value>e2a97a38-ef47-475e-a082-57a70ec54633</con:value><con:style>QUERY</con:style><con:default>e2a97a38-ef47-475e-a082-57a70ec54633</con:default></con:parameter><con:parameter><con:name>sessionId</con:name><con:value>4FFC2B4468F845A4B0802524FC7A0356</con:value><con:style>QUERY</con:style><con:default>4FFC2B4468F845A4B0802524FC7A0356</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="e5279046-5b25-432b-9a34-102ea8eb2268"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="8597abb2-3b15-4be3-ade0-535fbdad4fb6"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getSlips.do" path="/getSlips.do" id="7831e62e-c622-4153-8216-a327720a1ff4"><con:settings/><con:parameters><con:parameter><con:name>clientCode</con:name><con:value>2860020633</con:value><con:style>QUERY</con:style><con:default>2860020633</con:default></con:parameter><con:parameter><con:name>period</con:name><con:value>201301</con:value><con:style>QUERY</con:style><con:default>201301</con:default></con:parameter><con:parameter><con:name>sessionId</con:name><con:value>6CEA0624E5F546FA8521ABB2FDF2FED8</con:value><con:style>QUERY</con:style><con:default>6CEA0624E5F546FA8521ABB2FDF2FED8</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>false</con:value><con:style>QUERY</con:style><con:default>false</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="80226222-aef4-4cd9-8e60-21bf7a62dbc9"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="c3dbe447-82e2-4adb-8942-e87d2418a135"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getFines.do" path="/getFines.do" id="3ba8a079-b2e1-4092-8d90-921286339fb6"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>6CEA0624E5F546FA8521ABB2FDF2FED8</con:value><con:style>QUERY</con:style><con:default>6CEA0624E5F546FA8521ABB2FDF2FED8</con:default></con:parameter><con:parameter><con:name>payerIdentifierType</con:name><con:value>102</con:value><con:style>QUERY</con:style><con:default>102</con:default></con:parameter><con:parameter><con:name>licenseNumber</con:name><con:value>40ОТ212879</con:value><con:style>QUERY</con:style><con:default>40ОТ212879</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>fineId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>judgmentNumber</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>judgmentDate</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>registrationNumber</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="c5d31d61-4f69-4a3b-a444-14c73bc0fb76"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="5777ae80-2f5e-46e1-8e1e-e69b2e307728"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>sessionId</con:entry><con:entry>payerIdentifierType</con:entry><con:entry>fineId</con:entry><con:entry>judgmentNumber</con:entry><con:entry>judgmentDate</con:entry><con:entry>licenseNumber</con:entry><con:entry>registrationNumber</con:entry><con:entry>isMobile</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="getProducts.do" path="/getProducts.do" id="b11b9f7f-229c-43d1-bfbb-52064c89408b"><con:settings/><con:parameters><con:parameter><con:name>currentVersion</con:name><con:value>1.0</con:value><con:style>QUERY</con:style><con:default>1.0</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="cbcabfe0-d9a7-46b7-9581-07b0ad590757"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="3f929438-b97d-4d94-98d1-626221f64304"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="currentVersion" value="1.2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource><con:resource name="sendCallbackForm.do" path="/sendCallbackForm.do" id="d3c5e5c4-11eb-4695-ba85-70dd8e77ea30"><con:settings/><con:parameters><con:parameter><con:name>productId</con:name><con:value>1.2</con:value><con:style>QUERY</con:style><con:default>1.2</con:default></con:parameter><con:parameter><con:name>comment</con:name><con:value>comment</con:value><con:style>QUERY</con:style><con:default>comment</con:default></con:parameter><con:parameter><con:name>callbackTimeFrom</con:name><con:value>16/01/2013 11:00:00</con:value><con:style>QUERY</con:style><con:default>16/01/2013 11:00:00</con:default></con:parameter><con:parameter><con:name>sessionId</con:name><con:value>96D1C29DE686488FB19F38CEC9D60FCC</con:value><con:style>QUERY</con:style><con:default>96D1C29DE686488FB19F38CEC9D60FCC</con:default></con:parameter><con:parameter><con:name>timeZone</con:name><con:value>+4</con:value><con:style>QUERY</con:style><con:default>+4</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>callbackTimeTo</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>firstName</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>middleName</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lastName</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>phone</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="5d84c332-2a6c-4ac1-935f-d471eb92edb3"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="347e2273-78e5-4c02-b15b-bb6684f1d66a"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="sessionId" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>productId</con:entry><con:entry>comment</con:entry><con:entry>callbackTimeFrom</con:entry><con:entry>callbackTimeTo</con:entry><con:entry>sessionId</con:entry><con:entry>firstName</con:entry><con:entry>middleName</con:entry><con:entry>lastName</con:entry><con:entry>phone</con:entry><con:entry>timeZone</con:entry><con:entry>isMobile</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="getExchangeRates.do" path="/getExchangeRates.do" id="132286ca-fe53-45b6-a450-dc4c68a87ca5"><con:settings/><con:parameters><con:parameter><con:name>ratesType</con:name><con:value>["Currency","Metals"]</con:value><con:style>QUERY</con:style><con:default>["Currency","Metals"]</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter><con:parameter><con:name>codes</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="a9d8d500-795e-4e17-9082-806143d0a521"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="9f433c27-b6e8-42f7-a7d8-1e4e79a6fb86"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="codes" value="[“Currency1&quot;,&quot;Currency2&quot;, “Metals1”, “Metals2”]" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ratesType</con:entry><con:entry>isMobile</con:entry><con:entry>codes</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="sendAppCallback.do" path="/sendAppCallback.do" id="ffa1eb27-4391-4c3e-a53e-f87ec87feaeb"><con:settings/><con:parameters><con:parameter><con:name>comment</con:name><con:value>weqrwer</con:value><con:style>QUERY</con:style><con:default>weqrwer</con:default></con:parameter><con:parameter><con:name>sessionId</con:name><con:value>432432432</con:value><con:style>QUERY</con:style><con:default>432432432</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="f3edd102-c79f-4721-82a0-3ba3f2f0c3f1"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="7e57a8e7-5c3e-4930-8892-8f69dda9575d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getInfo.do" path="/getInfo.do" id="0f03b080-03d7-4659-a213-a902bac65ea5"><con:settings/><con:parameters><con:parameter><con:name>sessionId</con:name><con:value>1400747297719</con:value><con:style>QUERY</con:style><con:default>1400747297719</con:default></con:parameter><con:parameter><con:name>category</con:name><con:value>{OFFER}</con:value><con:style>QUERY</con:style><con:default>{OFFER}</con:default></con:parameter><con:parameter><con:name>isMobile</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="7854d92d-f3d7-44ea-836f-b75953279ae1"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="dca58f53-88f1-496a-b742-1f7d4ff4a971"><con:settings/><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="category" value="{OFFER, FAQ, TARIFFS}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:testSuite name="MobileBank" id="e21de7f4-2165-4dd8-b96a-3d8c7dae2988"><con:settings><con:setting id="IncludeOverview">true</con:setting><con:setting id="IncludeResults">true</con:setting><con:setting id="FlowLayout">false</con:setting><con:setting id="ErrorDetails">true</con:setting><con:setting id="IncludeCoverage">true</con:setting><con:setting id="GeneratableJUnitReport@Style">Single Page (Print)</con:setting><con:setting id="GeneratableJUnitReport@Folder">D:\</con:setting></con:settings><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="logout" searchProperties="true" id="85249b11-91c8-4c17-81e8-80ce4b137e49"><con:description>анный запрос используется для завершения сессии работы авторизованного пользователя.
Приложение должно безусловно очистить временный кеш объектов данных – в памяти и файловой системе.</con:description><con:settings/><con:testStep type="calltestcase" name="login" id="dd7f6aa8-c7e1-42e1-8ff8-042d1e064188"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1c4bf547-7931-47e5-bd4e-9e201345688f</con:targetTestCase><con:properties><con:property><con:name>sessionId</con:name><con:value>D76DFD4121B04268ADAE15676D8C5CF7</con:value></con:property><con:property><con:name>userId</con:name><con:value>DC32F66AF4964B3F8C4D77DCDACE8409</con:value></con:property><con:property><con:name>installationId</con:name><con:value>21FE66EC685645BB916FCF9905F359D4</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property></con:properties><con:returnProperties><con:entry>sessionId</con:entry><con:entry>userId</con:entry><con:entry>installationId</con:entry><con:entry>errorCode</con:entry><con:entry>endPoint</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="logout" id="476ce590-63ab-4ac1-b01e-bb00124432e9"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/logout.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="logout" mediaType="application/json" id="3c456575-ed26-40c2-9aee-69519bc2bfdf"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains" id="809fbd9c-e727-4c37-a3e0-0aeb52446f6f"><con:configuration><token>"errorCode":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="sessionId" value="4C23AAC7C6B54E1BA541F50714A84B71" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="6749fa6f-382a-4823-afa9-a43d16e68aa7"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import groovy.json.JsonSlurper;

//def properties = testRunner.testCase.getTestStepByName( "Properties");
def response = testRunner.testCase.testSteps["logout"].testRequest.response.responseContent;




//def registerString			= properties.getPropertyValue( "data" );
log.info response;


def jsonObj = new JsonSlurper().parseText( response);

def String errorCode = jsonObj.errorCode;

 testRunner.testCase.setPropertyValue( "errorCode",errorCode);

</script></con:config></con:testStep><con:properties><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property></con:properties><con:reportParameters/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getFullProductBinding" searchProperties="true" id="96b881fb-8f24-4e77-909c-8335a46c7d4c"><con:description>Данный запрос выполняется для получения расширенной информации 
по конкретному продукту клиента в МБанк</con:description><con:settings/><con:testStep type="calltestcase" name="getProductBinding" id="a97d3287-2f25-4c13-84c3-16fc09cb3cc6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>43f1ab97-11dd-4f7b-b5f9-df663faa3e99</con:targetTestCase><con:properties><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>response</con:name><con:value>{"list":[{"bindingId":"ANONYMOUSCARD","mnemonic":"Новая карта","cardStatus":1,"createdDate":"11/06/2014 16:46:28","updatedDate":"11/06/2014 16:46:28","isDefaultBinding":false,"bindingType":"ATTACHED_CARD","supportedCategories":["p2p","epd","mobile","misc","web_money","gibdd","catalog","security","tv","internet","school_food","inter_phone"],"maskedPan":"","cardType":0,"issuerGroup":"EXTERNAL","bindingStatus":0,"is3DSecureBinding":false},{"bindingId":"71BFC4EB5FF145159EF00E608ACA6CB3","mnemonic":"465206******8882","cardStatus":0,"createdDate":"10/06/2014 12:13:51","updatedDate":"10/06/2014 12:13:51","isDefaultBinding":false,"supportedCategories":[],"balance":"0,00","status":1,"bindingType":"DEBIT_CARD","bankSubtype":"Карта","cardType":"VISA","productName":"Our VISA Cards","pan":"4652 06** **** 8882","expiry":"01/02/2016 00:00:00","currency":"643"},{"bindingId":"0D8FD09A9DEE4A9F8826708B443BD363","mnemonic":"541715******3187","cardStatus":0,"createdDate":"10/06/2014 12:13:51","updatedDate":"10/06/2014 12:13:51","isDefaultBinding":false,"supportedCategories":["epd","mobile","misc","web_money","gibdd","catalog","security","tv","internet","school_food","inter_phone"],"balance":"0,00","ownBalance":"-150000,00","status":1,"bindingType":"CREDIT_CARD","creditBalance":"150000,00","cardType":"MASTERCARD","productName":"Кредитная КАРТА","pan":"5417 15** **** 3187","expiry":"01/08/2016 00:00:00","currency":"643"},{"bindingId":"534D52EF4E8941CCB3C7FA83921E6D1C","mnemonic":"541715******8832","cardStatus":0,"createdDate":"10/06/2014 12:13:51","updatedDate":"10/06/2014 12:13:51","isDefaultBinding":false,"supportedCategories":[],"balance":"0,00","ownBalance":"12138,84","status":0,"bindingType":"CREDIT_CARD","creditBalance":"-12138,84","cardType":"MASTERCARD","productName":"Our EuroCard/MasterCard","pan":"5417 15** **** 8832","expiry":"01/12/2014 00:00:00","currency":"643"},{"bindingId":"70F6683672774200AF5FDE0C5BE8A9D9","mnemonic":"465218******8536","cardStatus":0,"createdDate":"10/06/2014 12:13:51","updatedDate":"10/06/2014 12:13:51","isDefaultBinding":true,"supportedCategories":["p2p","epd","mobile","misc","transfer","web_money","gibdd","catalog","security","tv","internet","school_food","inter_phone"],"balance":"46000,00","status":1,"bindingType":"DEBIT_CARD","bankSubtype":"Карта","cardType":"VISA","productName":"Зарплатная КАРТА","pan":"4652 18** **** 8536","expiry":"01/08/2018 00:00:00","currency":"643"},{"bindingId":"F41B7473EBA444D29851EF5E7D7447FA","mnemonic":"423018**********1287","cardStatus":0,"createdDate":"10/06/2014 12:13:51","updatedDate":"10/06/2014 12:13:51","isDefaultBinding":false,"supportedCategories":["transfer"],"balance":"892,69","accountNumber":"4230 18** **** **** 1287","bindingType":"DEPOSIT_ACCOUNT","bankSubtype":"До востребования","assistAccount":"","productName":"Вклад \"До востребования\"","contractNumber":"025211287","currency":"643"},{"bindingId":"4B8A7B28F718435C80DF67CCD19FCF40","mnemonic":"408178**********0934","cardStatus":0,"createdDate":"10/06/2014 12:13:51","updatedDate":"10/06/2014 12:13:51","isDefaultBinding":false,"supportedCategories":["transfer"],"balance":"360,00","accountNumber":"4081 78** **** **** 0934","bindingType":"DEPOSIT_ACCOUNT","bankSubtype":"Текущий счет","assistAccount":"","productName":"Договор текущего счета физ.лица","contractNumber":"03012300962","currency":"643"},{"bindingId":"E45A0AC791C9469098F7F99D0DCEAB61","mnemonic":"423018**********1118","cardStatus":0,"createdDate":"10/06/2014 12:13:51","updatedDate":"10/06/2014 12:13:51","isDefaultBinding":false,"supportedCategories":[],"balance":"0,00","accountNumber":"4230 18** **** **** 1118","bindingType":"DEPOSIT_ACCOUNT","bankSubtype":"До востребования","assistAccount":"","productName":"Вклад \"До востребования\" 91 день","contractNumber":"02004117706","currency":"643"},{"bindingId":"62A04B607E4644EBA83F92B20C1F45F6","mnemonic":"455068**********3550","cardStatus":0,"createdDate":"10/06/2014 12:13:51","updatedDate":"10/06/2014 12:13:51","isDefaultBinding":false,"supportedCategories":[],"nextPaymentAmount":"161765,69","accountNumber":"4550 68** **** **** 3550","bindingType":"CREDIT_ACCOUNT","nextPaymentDate":"22/05/2014 00:00:00","bankSubtype":"КН","assistAccount":"42301810300410111118","productName":"Кредит наличными","contractNumber":"00041/15/00247-13","currency":"643"}],"errorCode":0}</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property><con:property><con:name>sessionId</con:name><con:value>C22B5727F9D646FEB3084CE9AE20A9A1</con:value></con:property></con:properties><con:returnProperties><con:entry>errorCode</con:entry><con:entry>response</con:entry><con:entry>endPoint</con:entry><con:entry>sessionId</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="GroovyScript" disabled="true" id="e7fd4923-d88c-4613-be1a-374a9bb711d9"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import org.apache.commons.lang.RandomStringUtils;
import groovy.json.JsonBuilder;
import groovy.json.JsonSlurper;
import groovy.json.JsonOutput;
import java.security.MessageDigest;

def properties = testRunner.testCase.getTestStepByName( "getProductBinding");
def products = testRunner.testCase.getTestStepByName( "getFullProductBinding");
def propertyNames =  testRunner.testCase.getPropertyNames()
def endPoint = properties.getPropertyValue ("endPoint");
def sessionId = properties.getPropertyValue ("sessionId");
def response = properties.getPropertyValue ("response");
def EP = "EndPoint";


products.setPropertyValue("sessionId", sessionId);

	if (products.hasProperty(EP)) {
	products.setPropertyValue(EP,endPoint);
	}


def jsonObj = new JsonSlurper().parseText( response);

Iterator i =jsonObj.list.iterator();
while ( i.hasNext()) {
	myList = i.next();

	if (myList.bindingId!="ANONYMOUSCARD"||myList.issuerGroup!="EXTERNAL"){

	products.setPropertyValue("bindingId", myList.bindingId);
	
//	testRunner.runTestStep(products);
	 response = testRunner.testCase.testSteps["getFullProductBinding"].testRequest.response.responseContent;
	
	 if (response=="{\"errorCode\":1}"){
	 	 log.info "ALERT!!!!! " +  response;
	 	break;
	 	
	 	}
//запустить рест на првоерку, чо вернется все, что должно вернуться
     
	}
	if (myList.bindingId=="ANONYMOUSCARD"||myList.issuerGroup=="EXTERNAL"){
//запустить рест на првоерку, чо вернется 28 код
	products.setPropertyValue("bindingId", myList.bindingId);
	
//	testRunner.runTestStep(products);
	 response = testRunner.testCase.testSteps["getFullProductBinding"].testRequest.response.responseContent;
	 if (response=="{\"errorCode\":28}"){
	 	 log.info "GOOOD!!!!! " +  response;
	 	}	
	 if (response=="{\"errorCode\":1}"){
	 	 log.info "ALERT!!!!! " +  response;
	 	break;
		}
	}
	
}
  //   https://rbs-develop.paymentgate.ru/wiki/pages/viewpage.action?pageId=45088774

//testRunner.runTestStep(products);</script></con:config></con:testStep><con:testStep type="restrequest" name="getFullProductBinding" id="6b9a0e20-001e-4111-b285-850f308ca101" disabled="true"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/getFullProductBinding.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getFullProductBinding" mediaType="application/json" id="2d55f43c-98e6-4061-863b-59174859fc23"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sessionId" value="C22B5727F9D646FEB3084CE9AE20A9A1"/>
  <con:entry key="bindingId" value="ANONYMOUSCARD"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getProductBindings" searchProperties="true" id="43f1ab97-11dd-4f7b-b5f9-df663faa3e99"><con:description>Данный запрос выполняется для получения всех продуктов клиента, имеющихся в МБанк и Платформе РБС.</con:description><con:settings/><con:testStep type="calltestcase" name="start" id="aa54d70e-c793-4cf0-a076-e9828c6b3c3d"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1c4bf547-7931-47e5-bd4e-9e201345688f</con:targetTestCase><con:properties><con:property><con:name>sessionId</con:name><con:value>BFCD1516D974432EAF800BB2A16E240D</con:value></con:property><con:property><con:name>userId</con:name><con:value>DC32F66AF4964B3F8C4D77DCDACE8409</con:value></con:property><con:property><con:name>installationId</con:name><con:value>4ED48E45EF49412C94085982F435625D</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property></con:properties><con:returnProperties><con:entry>sessionId</con:entry><con:entry>userId</con:entry><con:entry>installationId</con:entry><con:entry>errorCode</con:entry><con:entry>endPoint</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="GroovyScript" id="b4916ef6-3f04-49a1-ad67-e129f8687f10"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import org.apache.commons.lang.RandomStringUtils;
import groovy.json.JsonBuilder;
import groovy.json.JsonSlurper;
import groovy.json.JsonOutput;
import java.security.MessageDigest;

def properties = testRunner.testCase.getTestStepByName( "start");
def products = testRunner.testCase.getTestStepByName( "getProductBindings");
def propertyNames =  testRunner.testCase.getPropertyNames()
def endPoint = properties.getPropertyValue ("endPoint");
def sessionId = properties.getPropertyValue ("sessionId");

def EP = "EndPoint";

products.setPropertyValue("sessionId", sessionId);
	if (products.hasProperty(EP)) {
	products.setPropertyValue(EP,endPoint);
	}

testRunner.runTestStep(products);


if(  testRunner.testCase.getPropertyNames().size()!= null){
for( name in propertyNames )
  testRunner.testCase.removeProperty(name)
}



def response = testRunner.testCase.testSteps["getProductBindings"].testRequest.response.responseContent;

def jsonObj = new JsonSlurper().parseText( response);
def String errorCode = jsonObj.errorCode;
testRunner.testCase.setPropertyValue( "errorCode",errorCode);
 testRunner.testCase.setPropertyValue( "response",response);
 testRunner.testCase.setPropertyValue( "endPoint",endPoint);
 testRunner.testCase.setPropertyValue( "sessionId",sessionId);


 Iterator i =jsonObj.list.iterator();
while ( i.hasNext()) {
	myList = i.next();
	//log.info myList.bindingType;
	if (( myList.bindingType)== "ATTACHED_CARD"){
		if ( myList.bindingType ==null){
		 testRunner.testCase.setPropertyValue( "bindingType","FAILED");
		}
		
		if (myList.bindingId == null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_bindingId","FAILED");
		}
		
		if (myList.mnemonic==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_mnemonic","FAILED");
		}
		log.info "Блок для \"ATTACHED_CARD\""
			log.info "************************"
		if (myList.maskedPan== null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_maskedPan","FAILED");
		}
		if(myList.expiry==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_expiry","FAILED");
		}

		if(myList.cardType==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_cardType","FAILED");
		}
		if(myList.issuerGroup==null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_issuerGroup","FAILED");
		}
		if (myList.issuerGroup == "PARTNER"){
			log.info "balance "+myList.balance;
			}
		
		if(myList.cardStatus==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_cardStatus","FAILED");
		}
	}


	if (( myList.bindingType)== "CREDIT_CARD"){
		if ( myList.bindingType ==null){
		 testRunner.testCase.setPropertyValue( "bindingType","FAILED");
		}
		
		if (myList.bindingId == null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_bindingId","FAILED");
		}
		
		if (myList.mnemonic==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_mnemonic","FAILED");
		}
		log.info "Блок для \"CREDIT_CARD\""
			log.info "************************"
		if (myList.pan== null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_pan","FAILED");
		}
		if(myList.expiry==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_expiry","FAILED");
		}
		if(myList.currency==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_currency","FAILED");
		}		
		if(myList.balance==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_balance","FAILED");
		}
		if(myList.ownBalance==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_ownBalance","FAILED");
		}		
		if(myList.cardType==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_cardType","FAILED");
		}
		if(myList.is3DSecureBinding==null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_is3DSecureBinding","FAILED");
		}

	}

 	if (( myList.bindingType)== "DEBIT_CARD"){
		if ( myList.bindingType ==null){
		 testRunner.testCase.setPropertyValue( "bindingType","FAILED");
		}
		
		if (myList.bindingId == null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_bindingId","FAILED");
		}
		
		if (myList.mnemonic==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_mnemonic","FAILED");
		}
		log.info "Блок для \"DEBIT_CARD\""
			log.info "************************"
		if (myList.pan== null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_pan","FAILED");
		}
		if(myList.expiry==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_expiry","FAILED");
		}
		if(myList.currency==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_currency","FAILED");
		}		
		if(myList.balance==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_balance","FAILED");
		}
		if(myList.cardType==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_cardType","FAILED");
		}
		if(myList.is3DSecureBinding==null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_is3DSecureBinding","FAILED");
		}

	} 


 	if (( myList.bindingType)== "CREDIT_ACCOUNT"){
		if ( myList.bindingType ==null){
		 testRunner.testCase.setPropertyValue( "bindingType","FAILED");
		}
		
		if (myList.bindingId == null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_bindingId","FAILED");
		}
		
		if (myList.mnemonic==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_mnemonic","FAILED");
		}
		log.info "Блок для \"CREDIT_ACCOUNT\""
			log.info "************************"
		if (myList.accountNumber== null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_accountNumber","FAILED");
		}
		if(myList.contractNumber==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_contractNumber","FAILED");
		}
		if(myList.currency==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_currency","FAILED");
		}		
		if(myList.bankSubtype==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_bankSubtype","FAILED");
		}
		if(myList.nextPaymentAmount==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_nextPaymentAmount","FAILED");
		}
		if(myList.nextPaymentDate==null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_nextPaymentDate","FAILED");
		}
		if(myList.assistAcc==null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_assistAcc","FAILED");
		}
	} 

 	if (( myList.bindingType)== "DEPOSIT_ACCOUNT"){
		if ( myList.bindingType ==null){
		 testRunner.testCase.setPropertyValue( "bindingType","FAILED");
		}
		
		if (myList.bindingId == null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_bindingId","FAILED");
		}
		
		if (myList.mnemonic==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_mnemonic","FAILED");
		}
		log.info "Блок для \"DEPOSIT_ACCOUNT\""
			log.info "************************"
		if (myList.accountNumber== null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_accountNumber","FAILED");
		}
		if(myList.contractNumber==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_contractNumber","FAILED");
		}
		if(myList.currency==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_currency","FAILED");
		}		
		if(myList.bankSubtype==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_bankSubtype","FAILED");
		}
		if(myList.balance==null){
		 testRunner.testCase.setPropertyValue( myList.bindingType+ "_balance","FAILED");
		}
		if(myList.assistAcc==null){
		 testRunner.testCase.setPropertyValue(myList.bindingType+ "_assistAcc","FAILED");
		}
	} 
}</script></con:config></con:testStep><con:testStep type="restrequest" name="getProductBindings" disabled="true" id="2f80087b-9fc4-4300-bd72-82bcea4c3020"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/getProductBindings.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getProductBindings" mediaType="application/json" id="555f9341-0d37-4edd-8eb9-1e8b7a343a9e"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="sessionId" value="BFCD1516D974432EAF800BB2A16E240D" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>errorCode</con:name><con:value>2</con:value></con:property><con:property><con:name>response</con:name><con:value>{"errorCode":2}</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property><con:property><con:name>sessionId</con:name><con:value>BFCD1516D974432EAF800BB2A16E240D</con:value></con:property></con:properties><con:reportParameters/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="deleteIstallation" searchProperties="true" id="987700e8-6ec0-47f4-92c7-aa743d736d97"><con:description>Данный запрос выполняется для удаления связки. 
Удалить активную связку, от имени которой выполняется запрос – невозможно</con:description><con:settings/><con:testStep type="properties" name="installationIdData" id="565080cb-8af1-4eb1-8618-7e26a8466708"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>1</con:name><con:value>FA09B9A372744412BB9660DB7B374F13</con:value></con:property><con:property><con:name>2</con:name><con:value>455BB1235795470E921C492CCF844EDE</con:value></con:property><con:property><con:name>4</con:name><con:value>C8B2CF043C904947A2F73922873B6FE7</con:value></con:property><con:property><con:name>5</con:name><con:value>1DC19467B7A247E9A3254A05EF3169BF</con:value></con:property><con:property><con:name>6</con:name><con:value>1AF4B6E7B3464D82ABF2D8908EC4153F</con:value></con:property><con:property><con:name>7</con:name><con:value>483AE1E26FE54A6B91F2DAAD438AC842</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="calltestcase" name="getInstallations" id="82deb521-1ceb-4ab6-bd42-32f4f02200bd"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>17017d25-84e5-4921-b0b9-37db24468be2</con:targetTestCase><con:properties><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>response</con:name><con:value>{"list":[{"mnemonic":"iPhone 5s 11/06/2014 12:43:58","createdDate":"11/06/2014 12:44:00","updatedDate":"11/06/2014 12:44:00","installationId":"FA09B9A372744412BB9660DB7B374F13","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 11/06/2014 12:44:19","createdDate":"11/06/2014 12:44:21","updatedDate":"11/06/2014 12:44:21","installationId":"455BB1235795470E921C492CCF844EDE","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 11/06/2014 12:44:24","createdDate":"11/06/2014 12:44:25","updatedDate":"11/06/2014 12:44:25","installationId":"3A83800175F243F1B700751DE1449167","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 11/06/2014 12:44:29","createdDate":"11/06/2014 12:44:31","updatedDate":"11/06/2014 12:44:31","installationId":"C8B2CF043C904947A2F73922873B6FE7","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 11/06/2014 12:44:35","createdDate":"11/06/2014 12:44:36","updatedDate":"11/06/2014 12:44:36","installationId":"1DC19467B7A247E9A3254A05EF3169BF","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 11/06/2014 12:44:39","createdDate":"11/06/2014 12:44:41","updatedDate":"11/06/2014 12:44:41","installationId":"1AF4B6E7B3464D82ABF2D8908EC4153F","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 11/06/2014 12:44:48","createdDate":"11/06/2014 12:44:49","updatedDate":"11/06/2014 12:44:49","installationId":"483AE1E26FE54A6B91F2DAAD438AC842","deviceModel":"iPhone 5s"}],"errorCode":0}</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property><con:property><con:name>userInstallationId</con:name><con:value>483AE1E26FE54A6B91F2DAAD438AC842</con:value></con:property><con:property><con:name>sessionId</con:name><con:value>E34FE4AF7676428EA5C95BF58D5E70EE</con:value></con:property></con:properties><con:returnProperties><con:entry>errorCode</con:entry><con:entry>response</con:entry><con:entry>endPoint</con:entry><con:entry>userInstallationId</con:entry><con:entry>sessionId</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="dataScript" id="b7f32a65-27a6-4a86-a1a5-4f0afebc1990"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import com.eviware.soapui.impl.wsdl.teststeps.WsdlPropertiesTestStep
import com.eviware.soapui.support.GroovyUtils
import org.apache.commons.lang.RandomStringUtils;
import groovy.json.JsonBuilder;
import groovy.json.JsonSlurper;
import groovy.json.JsonOutput;
import java.security.MessageDigest;
import java.util.Iterator;



def properties = testRunner.testCase.getTestStepByName( "getInstallations");

def endPoint = properties.getPropertyValue ("endPoint");
def deleteAll =  testRunner.testCase.getPropertyValue( "deleteall");
def userInstallationId = properties.getPropertyValue ("userInstallationId");
def response = properties.getPropertyValue ("response");
def sessionId = properties.getPropertyValue ("sessionId");
def installationIdData = testRunner.testCase.getTestStepByName( "installationIdData");
def deleteInstallationId = testRunner.testCase.getTestStepByName( "DeleteInstallation");
def propertyNames = installationIdData.getPropertyNames()
def jsonObj = new JsonSlurper().parseText( response);

log.info deleteAll

def count = jsonObj.list.installationId.size();
testRunner.testCase.setPropertyValue("before", (count).toString());


def myList;
def c=1;
def d = 0
def EP = "EndPoint";

if( installationIdData.getPropertyNames().size()!= null){
for( name in propertyNames )
 installationIdData.removeProperty(name)
}

Iterator i =jsonObj.list.iterator();
while ( i.hasNext()) {
	myList = i.next();

		 if (myList.installationId == userInstallationId) {
	d = c;
  	}
	installationIdData.setPropertyValue((c++).toString(), myList.installationId);
}


 	
for( name in propertyNames ){
	 installationIdData.removeProperty((d).toString());
}




//----------------------------------
//
//
deleteInstallationId.setPropertyValue("sessionId", sessionId);
	if (deleteInstallationId.hasProperty(EP)) {
	deleteInstallationId.setPropertyValue(EP,endPoint);
	}


if (deleteAll == "true"){
	log.info "удаляем все!!!"
	

	def iter =  installationIdData.getPropertyNames().iterator();
	while (iter.hasNext()) {
		myInstId =iter.next();

		deleteInstallationId.setPropertyValue("installationId",  installationIdData.getPropertyValue(myInstId));
		testRunner.runTestStep(deleteInstallationId);
		
		for( name in propertyNames ){
				 installationIdData.removeProperty((myInstId).toString());
				}

		}
}


if  (deleteAll == "false"){

	def String charset = ('0'..count).join();
	def String num = RandomStringUtils.random(1, charset.toCharArray())
	
	if (( installationIdData.getPropertyValue(num))!=null)
	{
			log.info "удаляем один!!"
			deleteInstallationId.setPropertyValue("installationId",  installationIdData.getPropertyValue(num));
					testRunner.runTestStep(deleteInstallationId);
		
		for( name in propertyNames ){
				 installationIdData.removeProperty((num).toString());
				}
		}

}


installationIdData.setPropertyValue((d).toString(),userInstallationId );
def after = installationIdData.getPropertyNames().size();
testRunner.testCase.setPropertyValue("after", (after).toString());

</script></con:config></con:testStep><con:testStep type="restrequest" name="DeleteInstallation" id="43b54e7e-372a-4b74-93df-d0a2b7b43423" disabled="true"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/deleteInstallation.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DeleteInstallation" mediaType="application/json" id="f42268ec-3ea5-4b1e-8404-d63227bd9261"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains" id="99b1fc48-7cc3-496b-bfba-edf775a0cd29"><con:configuration><token/><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sessionId" value="E34FE4AF7676428EA5C95BF58D5E70EE"/>
  <con:entry key="installationId" value="3A83800175F243F1B700751DE1449167"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="GroovyScript" id="6241bf4b-6eb5-4ebe-bdc3-bed33fab65cc"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import groovy.json.JsonSlurper;

//def properties = testRunner.testCase.getTestStepByName( "Properties");
def response = testRunner.testCase.testSteps["DeleteInstallation"].testRequest.response.responseContent;




//def registerString			= properties.getPropertyValue( "data" );
log.info response;


def jsonObj = new JsonSlurper().parseText( response);

def String errorCode = jsonObj.errorCode;

 testRunner.testCase.setPropertyValue( "errorCode",errorCode);</script></con:config></con:testStep><con:properties><con:property><con:name>deleteall</con:name><con:value>false</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>before</con:name><con:value>7</con:value></con:property><con:property><con:name>after</con:name><con:value>6</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>b7f32a65-27a6-4a86-a1a5-4f0afebc1990</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>565080cb-8af1-4eb1-8618-7e26a8466708</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>6241bf4b-6eb5-4ebe-bdc3-bed33fab65cc</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="changeInstallation" searchProperties="true" id="51dca26c-810f-425b-a585-0dc0a0042008"><con:description>Данный запрос выполняется для изменения мнемонического имени связки. 
В запросе может быть указан не только текущий активный installationId, 
но и любой installationId клиента, возвращаемый запросом getInstallations.</con:description><con:settings/><con:testStep type="calltestcase" name="auth" id="b2d8ce3d-6283-472c-b2d1-43122e01b909"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1c4bf547-7931-47e5-bd4e-9e201345688f</con:targetTestCase><con:properties><con:property><con:name>sessionId</con:name><con:value>5D414C9ECE494B3EBED8AE5CB6437960</con:value></con:property><con:property><con:name>userId</con:name><con:value>DC32F66AF4964B3F8C4D77DCDACE8409</con:value></con:property><con:property><con:name>installationId</con:name><con:value>D7FF5C869FF94D21B67EAFB0485DB7EB</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property></con:properties><con:returnProperties><con:entry>sessionId</con:entry><con:entry>userId</con:entry><con:entry>installationId</con:entry><con:entry>errorCode</con:entry><con:entry>endPoint</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="546a62ea-8ca5-46c6-a0a5-b2068b7ee8f4"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>sessionId</con:name><con:sourceType>sessionId</con:sourceType><con:sourceStep>auth</con:sourceStep><con:targetType>sessionId</con:targetType><con:targetStep>changeInstallation</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>Installation</con:name><con:sourceType>installationId</con:sourceType><con:sourceStep>auth</con:sourceStep><con:targetType>installationId</con:targetType><con:targetStep>changeInstallation</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>endPoint</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>auth</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>changeInstallation</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="changeInstallation" id="12b29b51-c5c5-4494-bd61-f56b3f33acc4"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/changeInstallation.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="changeInstallation" mediaType="application/json" id="59c2dcfc-19d5-4806-bc30-8d01430b267c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains" id="ceb48cd4-04d1-478a-9d9f-05c3d6ae8989"><con:configuration><token>"errorCode":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sessionId" value="5D414C9ECE494B3EBED8AE5CB6437960"/>
  <con:entry key="mnemonic" value="тест changeInstallation пройден"/>
  <con:entry key="installationId" value="D7FF5C869FF94D21B67EAFB0485DB7EB"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="23e06922-fd87-422a-bf96-0da1003c799a"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import groovy.json.JsonSlurper;

//def properties = testRunner.testCase.getTestStepByName( "Properties");
def response = testRunner.testCase.testSteps["changeInstallation"].testRequest.response.responseContent;




//def registerString			= properties.getPropertyValue( "data" );
log.info response;


def jsonObj = new JsonSlurper().parseText( response);

def String errorCode = jsonObj.errorCode;

 testRunner.testCase.setPropertyValue( "errorCode",errorCode);</script></con:config></con:testStep><con:properties><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property></con:properties><con:reportParameters/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="authByInstallation" searchProperties="true" id="1c4bf547-7931-47e5-bd4e-9e201345688f"><con:description>Данный запрос выполняется при попытке входа пользователя в свой профиль МБ (после успешной регистрации).
В случае успешного входа или попытки входа – клиенту направляется соответствующее информационное СМС.</con:description><con:settings/><con:testStep type="calltestcase" name="createBmUser" id="7887b9a4-0de2-4f53-a042-58148ba6a812"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f4af830c-1223-4064-9070-f05e6a880ce4</con:targetTestCase><con:properties><con:property><con:name>pass</con:name><con:value>00254</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>rand</con:name><con:value>true</con:value></con:property><con:property><con:name>deviceId</con:name><con:value>0009141064</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property></con:properties><con:returnProperties><con:entry>pass</con:entry><con:entry>errorCode</con:entry><con:entry>deviceId</con:entry><con:entry>endPoint</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="transfer" name="PropertyTransfer" id="1a772d70-7358-4340-946e-b83da6c0e86e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>uniqueDevId</con:name><con:sourceType>deviceId</con:sourceType><con:sourceStep>createBmUser</con:sourceStep><con:targetType>uniqueDeviceId</con:targetType><con:targetStep>authByInstallation</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>pass</con:name><con:sourceType>pass</con:sourceType><con:sourceStep>createBmUser</con:sourceStep><con:targetType>password</con:targetType><con:targetStep>authByInstallation</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endPoint</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>createBmUser</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>authByInstallation</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>endPointo</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>createBmUser</con:sourceStep><con:targetType>endPoint</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="authByInstallation" id="2b06abf6-06da-49d5-992f-3de5b6761ca2"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/authByInstallation.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="authByInstallation" mediaType="application/json" id="6981f46f-1b7e-47b0-a7ba-d7846619581f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains" id="40e08b9b-0721-41f2-b857-a52627e917c7"><con:configuration><token>"errorCode":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="osVersion" value="7.2"/>
  <con:entry key="uniqueDeviceId" value="0009141064"/>
  <con:entry key="password" value="00254"/>
</con:parameters><con:parameterOrder><con:entry>uniqueDeviceId</con:entry><con:entry>password</con:entry><con:entry>isMobile</con:entry><con:entry>osVersion</con:entry><con:entry>geo</con:entry><con:entry>appVersion</con:entry><con:entry>osType</con:entry><con:entry>deviceModel</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="dataScript" id="6bfddd4f-e2c5-4aad-8e7d-b464a66e7439"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import groovy.json.JsonSlurper;

//def properties = testRunner.testCase.getTestStepByName( "Properties");
def response = testRunner.testCase.testSteps["authByInstallation"].testRequest.response.responseContent;




//def registerString			= properties.getPropertyValue( "data" );
log.info response;


def jsonObj = new JsonSlurper().parseText( response);
def String sessionId = jsonObj.sessionId;
def String userId = jsonObj.userId;
def String installationId = jsonObj.installationId;
def String errorCode = jsonObj.errorCode;



 testRunner.testCase.setPropertyValue( "sessionId",sessionId);
 testRunner.testCase.setPropertyValue( "userId",userId);
 testRunner.testCase.setPropertyValue( "installationId",installationId);
  testRunner.testCase.setPropertyValue( "errorCode",errorCode);
 </script></con:config></con:testStep><con:properties><con:property><con:name>sessionId</con:name><con:value>A79322BAC2F349CDAA72BEEDB9CD4E90</con:value></con:property><con:property><con:name>userId</con:name><con:value>DC32F66AF4964B3F8C4D77DCDACE8409</con:value></con:property><con:property><con:name>installationId</con:name><con:value>9029E5925A884DBCB5816235A664AF96</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property></con:properties><con:reportParameters/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getInstallations" searchProperties="true" id="17017d25-84e5-4921-b0b9-37db24468be2"><con:description>Данный запрос выполняется для получения пользователем списка его активных связок</con:description><con:settings/><con:testStep type="calltestcase" name="registerLoginInBank" id="a3a2ce8b-5c92-4a31-90e2-6205d0f59efa"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1c4bf547-7931-47e5-bd4e-9e201345688f</con:targetTestCase><con:properties><con:property><con:name>sessionId</con:name><con:value>4631793434F84FD49279F12091FA2AF9</con:value></con:property><con:property><con:name>userId</con:name><con:value>DC32F66AF4964B3F8C4D77DCDACE8409</con:value></con:property><con:property><con:name>installationId</con:name><con:value>93D1B8F2FAE6491D9FAAB1980182EAA5</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property></con:properties><con:returnProperties><con:entry>sessionId</con:entry><con:entry>userId</con:entry><con:entry>installationId</con:entry><con:entry>errorCode</con:entry><con:entry>endPoint</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="transfer" name="PropertyTransfer" id="ea724d6d-a14c-425b-9be0-38d9bf0b61fa"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>sessionId</con:name><con:sourceType>sessionId</con:sourceType><con:sourceStep>registerLoginInBank</con:sourceStep><con:targetType>sessionId</con:targetType><con:targetStep>getInstallations</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>endPoint</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>registerLoginInBank</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>getInstallations</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false"><con:name>endPointo</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>registerLoginInBank</con:sourceStep><con:targetType>endPoint</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>installationId</con:name><con:sourceType>installationId</con:sourceType><con:sourceStep>registerLoginInBank</con:sourceStep><con:targetType>userInstallationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>sessid</con:name><con:sourceType>sessionId</con:sourceType><con:sourceStep>registerLoginInBank</con:sourceStep><con:targetType>sessionId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="getInstallations" id="803bd0a9-b4be-4c2b-aff4-fee40182698a"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/getInstallations.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getInstallations" mediaType="application/json" id="934c7235-50f9-4ab2-9db1-8c80624f14a8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/2.1/bm</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains" id="7e7a5cad-6836-4de8-807c-43a6e0f3a586"><con:configuration><token>"errorCode":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="sessionId" value="4631793434F84FD49279F12091FA2AF9" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="91411391-c54c-49e6-8d27-8f24890aa89a"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import org.apache.commons.lang.RandomStringUtils;
import groovy.json.JsonBuilder;
import groovy.json.JsonSlurper;
import groovy.json.JsonOutput;
import java.security.MessageDigest;
import java.util.Iterator;
//def properties = testRunner.testCase.getTestStepByName( "Properties");
def response = testRunner.testCase.testSteps["getInstallations"].testRequest.response.responseContent;




//def registerString			= properties.getPropertyValue( "data" );


def jsonObj = new JsonSlurper().parseText( response);
def String errorCode = jsonObj.errorCode;
 testRunner.testCase.setPropertyValue( "errorCode",errorCode);
 testRunner.testCase.setPropertyValue( "response",response);
//
//log.info jsonObj.list.installationId;
//def count = jsonObj.list.installationId.size();
//log.info count;
//
//Iterator i =jsonObj.list.iterator();
//log.info "====================="
//def myList;
//while ( i.hasNext()) 
//		{
//			
//	  myList = i.next();
//	  log.info jsonObj.list.installationId[count];
//	count--;
//			
//         }
</script></con:config></con:testStep><con:properties><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>response</con:name><con:value>{"list":[{"mnemonic":"iPhone 5s 10/06/2014 12:01:19","createdDate":"10/06/2014 12:01:20","updatedDate":"10/06/2014 12:01:20","installationId":"7BC4464EC3494A39A143DBEE2AE0C9B8","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:01:25","createdDate":"10/06/2014 12:01:25","updatedDate":"10/06/2014 12:01:25","installationId":"2FE4FA6013DA4452943EF4776E2B6181","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:01:26","createdDate":"10/06/2014 12:01:27","updatedDate":"10/06/2014 12:01:27","installationId":"8317DBFFEC5B42F686667E75E7E98454","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:18:31","createdDate":"10/06/2014 12:18:31","updatedDate":"10/06/2014 12:18:31","installationId":"5C604828136641519FED0F9C5292AAC2","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:22:46","createdDate":"10/06/2014 12:22:47","updatedDate":"10/06/2014 12:22:47","installationId":"7E381E8569954424B5BDD44C9A921511","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:40:01","createdDate":"10/06/2014 12:40:02","updatedDate":"10/06/2014 12:40:02","installationId":"FAF48545ED4F4DF688F837A4AC7EAA4C","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:40:08","createdDate":"10/06/2014 12:40:08","updatedDate":"10/06/2014 12:40:08","installationId":"629D282C1FB34EEA8F73B488CE52B6C0","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:40:12","createdDate":"10/06/2014 12:40:12","updatedDate":"10/06/2014 12:40:12","installationId":"C981072A351240449587B8035DF4BD45","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:40:13","createdDate":"10/06/2014 12:40:14","updatedDate":"10/06/2014 12:40:14","installationId":"B055C60283E64B249464D9C5F7D4A1EA","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:40:15","createdDate":"10/06/2014 12:40:15","updatedDate":"10/06/2014 12:40:15","installationId":"9BEA81BEE9DC4B8D9F59096E85564944","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:40:18","createdDate":"10/06/2014 12:40:18","updatedDate":"10/06/2014 12:40:18","installationId":"D7A7CBC3628B465FBCDC2717D1550012","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:15:16","createdDate":"10/06/2014 13:15:40","updatedDate":"10/06/2014 13:15:40","installationId":"17204CCD4BDA46069FFC0FF54A0ED182","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:15","createdDate":"10/06/2014 13:20:16","updatedDate":"10/06/2014 13:20:16","installationId":"72B3964F38384C379E080A94460FE8A7","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:19","createdDate":"10/06/2014 13:20:20","updatedDate":"10/06/2014 13:20:20","installationId":"F1EB2D192E044307A1DC607A1B06CC0B","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:22","createdDate":"10/06/2014 13:20:23","updatedDate":"10/06/2014 13:20:23","installationId":"E7969EAF474440388658CAC8C1AE3393","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:25","createdDate":"10/06/2014 13:20:26","updatedDate":"10/06/2014 13:20:26","installationId":"02923DDA498145BF812BBC6C4C89E976","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:28","createdDate":"10/06/2014 13:20:29","updatedDate":"10/06/2014 13:20:29","installationId":"AA439037E7E94ED1BB3D705F334AF0D4","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:51","createdDate":"10/06/2014 13:20:52","updatedDate":"10/06/2014 13:20:52","installationId":"55717BF46B614939BA2421BF67FCAC73","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:52","createdDate":"10/06/2014 13:20:52","updatedDate":"10/06/2014 13:20:52","installationId":"A41B70DB6B654832BEF435152A04C651","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:56","createdDate":"10/06/2014 13:20:56","updatedDate":"10/06/2014 13:20:56","installationId":"4966A444E2354BC3BA7295A668B8B268","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:57","createdDate":"10/06/2014 13:20:58","updatedDate":"10/06/2014 13:20:58","installationId":"1A0D7B0B60DF4D7FA069CDE29324FBEF","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:21:02","createdDate":"10/06/2014 13:21:03","updatedDate":"10/06/2014 13:21:03","installationId":"DFF89A9A52E84A81ABF7D1E1594E064B","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:21:03","createdDate":"10/06/2014 13:21:03","updatedDate":"10/06/2014 13:21:03","installationId":"A0670F7548074367967B5FADDC9AB987","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:21:07","createdDate":"10/06/2014 13:21:07","updatedDate":"10/06/2014 13:21:07","installationId":"B793DDA3255848659FAB395CD7C9D83B","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:21:08","createdDate":"10/06/2014 13:21:08","updatedDate":"10/06/2014 13:21:08","installationId":"BFB48078ABF942B498BE9CB1197C8854","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:16","createdDate":"10/06/2014 13:26:17","updatedDate":"10/06/2014 13:26:17","installationId":"E73962E878EB4F3E9469D3FB0B5ADDCA","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:17","createdDate":"10/06/2014 13:26:19","updatedDate":"10/06/2014 13:26:19","installationId":"608DB1E16F9D446A8C37B695A708E019","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:20","createdDate":"10/06/2014 13:26:21","updatedDate":"10/06/2014 13:26:21","installationId":"B0D96923DF08490C9C5E88FACE8D8910","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:23","createdDate":"10/06/2014 13:26:25","updatedDate":"10/06/2014 13:26:25","installationId":"25B33743747E4490BB4712A94DE32336","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:25","createdDate":"10/06/2014 13:26:26","updatedDate":"10/06/2014 13:26:26","installationId":"8D70AF00239949D290CC2558D15934A2","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:27","createdDate":"10/06/2014 13:26:29","updatedDate":"10/06/2014 13:26:29","installationId":"1E0BA8612AAC4FEA9BBB94AD2FBDB6A6","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:45","createdDate":"10/06/2014 13:26:47","updatedDate":"10/06/2014 13:26:47","installationId":"5894CFDCF78640AB959D9C2A8F3E4388","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:47","createdDate":"10/06/2014 13:26:49","updatedDate":"10/06/2014 13:26:49","installationId":"BC2E14294A82498AACF3230055793C94","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:31:14","createdDate":"10/06/2014 13:31:16","updatedDate":"10/06/2014 13:31:16","installationId":"83E4CC2225B84D0E82C3752EB7FEB3EA","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:31:17","createdDate":"10/06/2014 13:31:18","updatedDate":"10/06/2014 13:31:18","installationId":"50EDEFA2C37C48B6B6F8EAEB4588A9F9","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:31:19","createdDate":"10/06/2014 13:31:20","updatedDate":"10/06/2014 13:31:20","installationId":"E2ED89A92E3B4ACFAA9E7CA01F4F43AE","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:40:27","createdDate":"10/06/2014 13:40:29","updatedDate":"10/06/2014 13:40:29","installationId":"772DBADA7BA24457AC0765442C74D408","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:40:32","createdDate":"10/06/2014 13:40:34","updatedDate":"10/06/2014 13:40:34","installationId":"668ADF7921B5471CB87C064D8EB1F7E8","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:40:45","createdDate":"10/06/2014 13:40:47","updatedDate":"10/06/2014 13:40:47","installationId":"7789C02522BD471AA1C86B873B468A9B","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:40:50","createdDate":"10/06/2014 13:40:51","updatedDate":"10/06/2014 13:40:51","installationId":"59A60F2E263E40B58AFDC353BE562A2E","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 14:15:33","createdDate":"10/06/2014 14:15:35","updatedDate":"10/06/2014 14:15:35","installationId":"D992874A3C624EF5A1F4FC410FA531A6","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 14:15:40","createdDate":"10/06/2014 14:15:42","updatedDate":"10/06/2014 14:15:42","installationId":"C1B347D0981C42C2A921A96215A5D80B","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 15:14:35","createdDate":"10/06/2014 15:14:37","updatedDate":"10/06/2014 15:14:37","installationId":"ED2B2642353B40FE99DB44C201DD8BF1","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:24:06","createdDate":"10/06/2014 13:24:08","updatedDate":"10/06/2014 13:24:08","installationId":"874479394F4244BB854C503E57BA3831","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:24:01","createdDate":"10/06/2014 13:24:03","updatedDate":"10/06/2014 13:24:03","installationId":"1B5EB2DE29184EC0A06E980C45951628","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:24:03","createdDate":"10/06/2014 13:24:05","updatedDate":"10/06/2014 13:24:05","installationId":"83B83695B09642F2A62ABE50EB3C506E","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:24:09","createdDate":"10/06/2014 13:24:10","updatedDate":"10/06/2014 13:24:10","installationId":"E8483035DED34DF0BCEF66943A098026","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:27:29","createdDate":"10/06/2014 13:27:30","updatedDate":"10/06/2014 13:27:30","installationId":"4CAAAC714F254D13954CF80A68C1E7D8","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:27:31","createdDate":"10/06/2014 13:27:33","updatedDate":"10/06/2014 13:27:33","installationId":"BED5182BC6A540EF8C688A56B7B3681F","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:27:34","createdDate":"10/06/2014 13:27:35","updatedDate":"10/06/2014 13:27:35","installationId":"CC3D1B7B64A04834A176AA9E1FFF91BA","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:27:36","createdDate":"10/06/2014 13:27:37","updatedDate":"10/06/2014 13:27:37","installationId":"44464587ABD247FBB07E3DC5845228C6","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:27:38","createdDate":"10/06/2014 13:27:40","updatedDate":"10/06/2014 13:27:40","installationId":"7486809EBBFE4C35815BBDCD93ECE397","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:27:40","createdDate":"10/06/2014 13:27:42","updatedDate":"10/06/2014 13:27:42","installationId":"29A8BCB4232344F5BE84D2A9BA620C20","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:27:42","createdDate":"10/06/2014 13:27:44","updatedDate":"10/06/2014 13:27:44","installationId":"91CE304B1A634C72921703244FCC23AA","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:27:46","createdDate":"10/06/2014 13:27:47","updatedDate":"10/06/2014 13:27:47","installationId":"13739B189BFD479F8A8EA641935DDFE7","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:29:20","createdDate":"10/06/2014 13:29:22","updatedDate":"10/06/2014 13:29:22","installationId":"5CBD98CD828B48068B00829B98D3E847","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:29:23","createdDate":"10/06/2014 13:29:24","updatedDate":"10/06/2014 13:29:24","installationId":"D03BFE2F4C6A4DF5A70F1813F5B55865","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 14:15:38","createdDate":"10/06/2014 14:15:39","updatedDate":"10/06/2014 14:15:39","installationId":"196A829C9C2E48B99B5D6CFB054B8F2C","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 15:13:50","createdDate":"10/06/2014 15:13:52","updatedDate":"10/06/2014 15:13:52","installationId":"4D3ED98F8F474625A311EC4B21113A6F","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 15:14:24","createdDate":"10/06/2014 15:14:26","updatedDate":"10/06/2014 15:14:26","installationId":"9F6032DDA01544429947E2273F0BABF8","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 15:14:39","createdDate":"10/06/2014 15:14:40","updatedDate":"10/06/2014 15:14:40","installationId":"848D968AD51948CCAD1E9201491EA02C","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 15:16:34","createdDate":"10/06/2014 15:16:35","updatedDate":"10/06/2014 15:16:35","installationId":"5C06532FB6D245DE9BF8E2F79168A940","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 15:19:37","createdDate":"10/06/2014 15:19:39","updatedDate":"10/06/2014 15:19:39","installationId":"21FE66EC685645BB916FCF9905F359D4","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 15:35:48","createdDate":"10/06/2014 15:35:50","updatedDate":"10/06/2014 15:35:50","installationId":"571485A517C64C42AF70DFD05BD95412","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 16:19:29","createdDate":"10/06/2014 16:19:34","updatedDate":"10/06/2014 16:19:34","installationId":"02729BE9DE794CCC85C570FCB91B13B6","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 11:56:06","createdDate":"10/06/2014 11:56:07","updatedDate":"10/06/2014 11:56:07","installationId":"4FDF0B49FFF54B17B4FB8E11F4710D18","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 11:56:03","createdDate":"10/06/2014 11:56:04","updatedDate":"10/06/2014 11:56:04","installationId":"F2DDBB29534B459A887856D9D3BD37D6","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 11:56:05","createdDate":"10/06/2014 11:56:06","updatedDate":"10/06/2014 11:56:06","installationId":"192CD2DA35894BA08009947DE0C90045","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 11:56:08","createdDate":"10/06/2014 11:56:08","updatedDate":"10/06/2014 11:56:08","installationId":"2A78212DB1FE4B32AA07CCAA39286D41","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:12:15","createdDate":"10/06/2014 12:12:16","updatedDate":"10/06/2014 12:12:16","installationId":"656CCC21C26D432FB8739CE1E7A377D3","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:16:30","createdDate":"10/06/2014 13:16:30","updatedDate":"10/06/2014 13:16:30","installationId":"13F8AEC855234C3D86A813AF8EFBA40C","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:16:33","createdDate":"10/06/2014 13:16:34","updatedDate":"10/06/2014 13:16:34","installationId":"472FB1BA0FBD4F24BEB0073F8817C8DA","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:16:49","createdDate":"10/06/2014 13:16:50","updatedDate":"10/06/2014 13:16:50","installationId":"8F044564DBB1423285387EBE7B6663CF","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:17:04","createdDate":"10/06/2014 13:17:04","updatedDate":"10/06/2014 13:17:04","installationId":"B5AC572E8DBD4963A9D076046FAD823B","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:17:05","createdDate":"10/06/2014 13:17:05","updatedDate":"10/06/2014 13:17:05","installationId":"0AE52A76523741FBB108B0A37FEBABD9","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:25","createdDate":"10/06/2014 13:19:26","updatedDate":"10/06/2014 13:19:26","installationId":"4F682859BD9A47D5AACBC5EAD69A90F1","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:31","createdDate":"10/06/2014 13:19:31","updatedDate":"10/06/2014 13:19:31","installationId":"0484C705232F4207BFCD579E6C511B00","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:32","createdDate":"10/06/2014 13:19:32","updatedDate":"10/06/2014 13:19:32","installationId":"091D20DDFD094E8087023E265C3DE4B1","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:37","createdDate":"10/06/2014 13:19:38","updatedDate":"10/06/2014 13:19:38","installationId":"FC776D8154234F158A961160264EA984","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:44","createdDate":"10/06/2014 13:19:44","updatedDate":"10/06/2014 13:19:44","installationId":"1805F811099242788A4A7E500675903B","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:04","createdDate":"10/06/2014 13:20:04","updatedDate":"10/06/2014 13:20:04","installationId":"651615062955444995A88E3D2E6E5BC6","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:07","createdDate":"10/06/2014 13:20:07","updatedDate":"10/06/2014 13:20:07","installationId":"1EE2D5E0DE5B4EF4B4428DAEB3C44B6B","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:10","createdDate":"10/06/2014 13:20:11","updatedDate":"10/06/2014 13:20:11","installationId":"4CF0C50BE78542D09059DA84A46CB8F9","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:14","createdDate":"10/06/2014 13:20:14","updatedDate":"10/06/2014 13:20:14","installationId":"532E495509FE49F8A0F0B5BC00600C32","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:17","createdDate":"10/06/2014 13:20:18","updatedDate":"10/06/2014 13:20:18","installationId":"D43CA8FFEB4448049EEFFC35567C3C67","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:21","createdDate":"10/06/2014 13:20:21","updatedDate":"10/06/2014 13:20:21","installationId":"663E7FC602894714B0BC5DF7E215AEE1","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:24","createdDate":"10/06/2014 13:20:24","updatedDate":"10/06/2014 13:20:24","installationId":"3AEC4013C643403AAB2C845283074291","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:26","createdDate":"10/06/2014 13:20:27","updatedDate":"10/06/2014 13:20:27","installationId":"83714E2EB62D446A8518EB938D4CE21C","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:30","createdDate":"10/06/2014 13:20:31","updatedDate":"10/06/2014 13:20:31","installationId":"6B03713620C248DB8D558A4BCE95B79A","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:53","createdDate":"10/06/2014 13:20:53","updatedDate":"10/06/2014 13:20:53","installationId":"08F944B6140B4E2C9AA1BA8BEC335CBC","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:59","createdDate":"10/06/2014 13:20:59","updatedDate":"10/06/2014 13:20:59","installationId":"C9953905654B4CA7ABB20DE2717C441D","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:21:04","createdDate":"10/06/2014 13:21:04","updatedDate":"10/06/2014 13:21:04","installationId":"D0B5143A2B6F455A9AFFDB977F02D2C5","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:22:18","createdDate":"10/06/2014 13:22:21","updatedDate":"10/06/2014 13:22:21","installationId":"F5F82CDBE4B44710BD8C24D189D3A50F","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:24:13","createdDate":"10/06/2014 13:24:15","updatedDate":"10/06/2014 13:24:15","installationId":"1B5C3D3D0DB74EE09F182276E9A0AA31","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:24:15","createdDate":"10/06/2014 13:24:17","updatedDate":"10/06/2014 13:24:17","installationId":"48ED6821620B465A87AB53DC669C6034","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:24:17","createdDate":"10/06/2014 13:24:19","updatedDate":"10/06/2014 13:24:19","installationId":"8C22DAD97B864F1DB388EF3314EEC8D6","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:24:21","createdDate":"10/06/2014 13:24:22","updatedDate":"10/06/2014 13:24:22","installationId":"F8A496681C904C369A166FBEE404CA8E","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:24:31","createdDate":"10/06/2014 13:24:33","updatedDate":"10/06/2014 13:24:33","installationId":"D55A6BC35D5248999644C315380BE106","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:25:35","createdDate":"10/06/2014 13:25:37","updatedDate":"10/06/2014 13:25:37","installationId":"C51519C2A17D4716B9EC3C4497DDE411","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:07","createdDate":"10/06/2014 13:26:09","updatedDate":"10/06/2014 13:26:09","installationId":"8DE124CB59024924B2DA5F4398B26706","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:09","createdDate":"10/06/2014 13:26:11","updatedDate":"10/06/2014 13:26:11","installationId":"DD983529F63049318ACC6C60A9219141","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:40:30","createdDate":"10/06/2014 13:40:31","updatedDate":"10/06/2014 13:40:31","installationId":"1CAC1DBC73A8411884FC4637EA89EBAC","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:40:48","createdDate":"10/06/2014 13:40:49","updatedDate":"10/06/2014 13:40:49","installationId":"125263222C344D20808527FB2A959858","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 14:56:28","createdDate":"10/06/2014 14:56:30","updatedDate":"10/06/2014 14:56:30","installationId":"19D71D056D1B4193BF95215F1358C38E","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 15:14:50","createdDate":"10/06/2014 15:14:52","updatedDate":"10/06/2014 15:14:52","installationId":"78C9A539FDBF4E1993BAB99C1C1AD70E","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 10:15:36","createdDate":"10/06/2014 10:15:37","updatedDate":"10/06/2014 10:15:37","installationId":"A1875C3290734824A859BCBA4CE3FC1D","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 10:16:31","createdDate":"10/06/2014 10:16:32","updatedDate":"10/06/2014 10:16:32","installationId":"C8ED07EAAA9E49CABB405C97C2D95A66","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 11:58:01","createdDate":"10/06/2014 11:58:02","updatedDate":"10/06/2014 11:58:02","installationId":"FCF307B874EE421CBADBE044DA4C66E5","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:13:49","createdDate":"10/06/2014 12:13:50","updatedDate":"10/06/2014 12:13:50","installationId":"4B88890625774E5C8FAF008206552706","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:47:42","createdDate":"10/06/2014 12:47:45","updatedDate":"10/06/2014 12:47:45","installationId":"380924C2EA4641578D65847139697380","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:16:18","createdDate":"10/06/2014 13:16:18","updatedDate":"10/06/2014 13:16:18","installationId":"6B0EF8F1ABE946EFBAE2E9F55AFEB313","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:16:23","createdDate":"10/06/2014 13:16:24","updatedDate":"10/06/2014 13:16:24","installationId":"6175FB5EF3404C70A1850BF51CBD4C45","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:16:32","createdDate":"10/06/2014 13:16:32","updatedDate":"10/06/2014 13:16:32","installationId":"B8A55E1D1F7C4535B12EA5FA5027CBB1","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:16:47","createdDate":"10/06/2014 13:16:48","updatedDate":"10/06/2014 13:16:48","installationId":"37BE5B80081E41FE94B63931D35E9768","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:16:52","createdDate":"10/06/2014 13:16:53","updatedDate":"10/06/2014 13:16:53","installationId":"EC18AC6110E4493CBE097A3C01842230","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:26:11","createdDate":"10/06/2014 13:26:13","updatedDate":"10/06/2014 13:26:13","installationId":"E0FF412D24914F73AC91E80C2801066E","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:28:35","createdDate":"10/06/2014 13:28:36","updatedDate":"10/06/2014 13:28:36","installationId":"E14AD1B7D6F240DDA019808F7A5BF29B","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:28:37","createdDate":"10/06/2014 13:28:38","updatedDate":"10/06/2014 13:28:38","installationId":"C9B20DEBFC26486985E240B80531C505","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:28:52","createdDate":"10/06/2014 13:28:54","updatedDate":"10/06/2014 13:28:54","installationId":"6B0F6E9427BA4135B26D688FCC575E80","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:28:54","createdDate":"10/06/2014 13:28:56","updatedDate":"10/06/2014 13:28:56","installationId":"0E6B2B6BD60D43E68A88AF13DEC73F25","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:31:01","createdDate":"10/06/2014 13:31:03","updatedDate":"10/06/2014 13:31:03","installationId":"167B1F87DDF6404D875F0159168F7314","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:46:26","createdDate":"10/06/2014 13:46:28","updatedDate":"10/06/2014 13:46:28","installationId":"74E0A889914E47AB81C9114FB34BD22D","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:49:41","createdDate":"10/06/2014 13:49:44","updatedDate":"10/06/2014 13:49:44","installationId":"DF77A2CB4F2442ED94F44F92369263DD","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 11/06/2014 09:17:33","createdDate":"11/06/2014 09:17:36","updatedDate":"11/06/2014 09:17:36","installationId":"93D1B8F2FAE6491D9FAAB1980182EAA5","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:01:09","createdDate":"10/06/2014 12:01:10","updatedDate":"10/06/2014 12:01:10","installationId":"E4B7227FAB6B48FC8895B024A491F674","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:17:16","createdDate":"10/06/2014 12:17:16","updatedDate":"10/06/2014 12:17:16","installationId":"85CE1103442D4CB1B5C24163898B9A8B","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 12:40:16","createdDate":"10/06/2014 12:40:17","updatedDate":"10/06/2014 12:40:17","installationId":"07DE81D14543451BA71017B5884CDBF6","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:15","createdDate":"10/06/2014 13:19:16","updatedDate":"10/06/2014 13:19:16","installationId":"783D1C9547E04694BD761B9023401FCD","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:35","createdDate":"10/06/2014 13:19:37","updatedDate":"10/06/2014 13:19:37","installationId":"52AC9501E7BB4816B7F5001FE33CEFD4","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:41","createdDate":"10/06/2014 13:19:41","updatedDate":"10/06/2014 13:19:41","installationId":"B6D6FB73561148F2B7B02E4A0656129F","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:42","createdDate":"10/06/2014 13:19:43","updatedDate":"10/06/2014 13:19:43","installationId":"0B1EC8D727964937A62E2E7E715C6892","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:48","createdDate":"10/06/2014 13:19:48","updatedDate":"10/06/2014 13:19:48","installationId":"06FE3B0C124C467EB66B6300A00DA891","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:19:49","createdDate":"10/06/2014 13:19:49","updatedDate":"10/06/2014 13:19:49","installationId":"DBF5BE9A2FCA4EDA83EAE15F12457977","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:05","createdDate":"10/06/2014 13:20:06","updatedDate":"10/06/2014 13:20:06","installationId":"2B9471F16B41445380FF78C305799709","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:08","createdDate":"10/06/2014 13:20:09","updatedDate":"10/06/2014 13:20:09","installationId":"FA1EA6C92CD24247BC1C1925BC9239E2","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:20:12","createdDate":"10/06/2014 13:20:12","updatedDate":"10/06/2014 13:20:12","installationId":"C5CF37F22AC14BCDB471022BD802E2A8","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:22:12","createdDate":"10/06/2014 13:22:15","updatedDate":"10/06/2014 13:22:15","installationId":"95FF2A65794642B3878BE4DB387F8A6A","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:22:15","createdDate":"10/06/2014 13:22:17","updatedDate":"10/06/2014 13:22:17","installationId":"B745DFD83AB142B2B8D2F6E0860B1294","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:28:39","createdDate":"10/06/2014 13:28:40","updatedDate":"10/06/2014 13:28:40","installationId":"EEAD04393E1D416182545890964D7754","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:28:57","createdDate":"10/06/2014 13:28:58","updatedDate":"10/06/2014 13:28:58","installationId":"E75E748A859D49529F8DF07CC8D073CD","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:30:59","createdDate":"10/06/2014 13:31:00","updatedDate":"10/06/2014 13:31:00","installationId":"B960AF92EFAD4F6D9BD69E407E5FCF3E","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 13:31:03","createdDate":"10/06/2014 13:31:05","updatedDate":"10/06/2014 13:31:05","installationId":"15E6388E69CE4C74AA13C79A325D35CB","deviceModel":"iPhone 5s"},{"mnemonic":"iPhone 5s 10/06/2014 15:36:00","createdDate":"10/06/2014 15:36:02","updatedDate":"10/06/2014 15:36:02","installationId":"6884493DD05C4A7987E7FE3ABFBCB786","deviceModel":"iPhone 5s"},{"mnemonic":"тест changeInstallation пройден","createdDate":"10/06/2014 17:21:14","updatedDate":"10/06/2014 17:21:14","installationId":"D7FF5C869FF94D21B67EAFB0485DB7EB","deviceModel":"iPhone 5s"}],"errorCode":0}</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property><con:property><con:name>userInstallationId</con:name><con:value>93D1B8F2FAE6491D9FAAB1980182EAA5</con:value></con:property><con:property><con:name>sessionId</con:name><con:value/></con:property></con:properties><con:reportParameters/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="renewUserSession" searchProperties="true" id="9864728d-ac7e-4886-a2d9-d3612a6705e7"><con:description>Данный запрос выполняется приложением для того, чтобы сообщить серверу,
что пользователь активен (продолжает использовать приложение).</con:description><con:settings/><con:testStep type="calltestcase" name="auth" id="386af607-35bf-4813-82d9-609fe4ba03a3"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1c4bf547-7931-47e5-bd4e-9e201345688f</con:targetTestCase><con:properties><con:property><con:name>sessionId</con:name><con:value>DB5FEC9B52864F6CA7D8369DE7E48C61</con:value></con:property><con:property><con:name>userId</con:name><con:value>DC32F66AF4964B3F8C4D77DCDACE8409</con:value></con:property><con:property><con:name>installationId</con:name><con:value>5C06532FB6D245DE9BF8E2F79168A940</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property></con:properties><con:returnProperties><con:entry>sessionId</con:entry><con:entry>userId</con:entry><con:entry>installationId</con:entry><con:entry>errorCode</con:entry><con:entry>endPoint</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="f66b19ac-329f-442f-9446-912659732ea3"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>11</con:name><con:sourceType>sessionId</con:sourceType><con:sourceStep>auth</con:sourceStep><con:targetType>sessionId</con:targetType><con:targetStep>renewSessionId</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>22</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>auth</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>renewSessionId</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="renewSessionId" id="a30b4dc7-4b5c-43f9-b10e-36483a71d1d9"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/renewUserSession.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="renewSessionId" mediaType="application/json" id="ae50351f-7684-41ce-96ba-f5df9976209a"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains" id="831dfdfe-6322-4820-b058-50597cfb80b0"><con:configuration><token>"errorCode":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="sessionId" value="DB5FEC9B52864F6CA7D8369DE7E48C61" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="a53099bb-cf3f-4794-a1df-b4e60eff2739"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import groovy.json.JsonSlurper;

//def properties = testRunner.testCase.getTestStepByName( "Properties");
def response = testRunner.testCase.testSteps["renewSessionId"].testRequest.response.responseContent;




//def registerString			= properties.getPropertyValue( "data" );
log.info response;


def jsonObj = new JsonSlurper().parseText( response);

def String errorCode = jsonObj.errorCode;

 testRunner.testCase.setPropertyValue( "errorCode",errorCode);

</script></con:config></con:testStep><con:properties><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property></con:properties><con:reportParameters/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getUser" searchProperties="true" id="75b6b7bb-1475-493b-b068-9f42e9fb07e0"><con:description>Данный запрос выполняется для получения данных профиля клиента. </con:description><con:settings/><con:testStep type="calltestcase" name="authByInstallation" id="e985cc99-6270-4314-9f8a-080599f3984d"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1c4bf547-7931-47e5-bd4e-9e201345688f</con:targetTestCase><con:properties><con:property><con:name>sessionId</con:name><con:value>79BCAF92AB3D405DA33D3C4937AE7073</con:value></con:property><con:property><con:name>userId</con:name><con:value>DC32F66AF4964B3F8C4D77DCDACE8409</con:value></con:property><con:property><con:name>installationId</con:name><con:value>D992874A3C624EF5A1F4FC410FA531A6</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property></con:properties><con:returnProperties><con:entry>sessionId</con:entry><con:entry>userId</con:entry><con:entry>installationId</con:entry><con:entry>errorCode</con:entry><con:entry>endPoint</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="transfer" name="PropertyTransfer" id="1e8cc575-2b48-4bb0-856b-d978debe4f98"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>sessionId</con:name><con:sourceType>sessionId</con:sourceType><con:sourceStep>authByInstallation</con:sourceStep><con:targetType>sessionId</con:targetType><con:targetStep>getUser</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>endPoint</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>authByInstallation</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>getUser</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>endPointo</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>authByInstallation</con:sourceStep><con:targetType>endPoint</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="getUser" id="7180b01b-1b36-4f18-ad00-06e8895e7d30"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/getUser.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getUser" mediaType="application/json" id="00b41816-6c1f-488c-a70b-361b6bfac7a0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains" id="dd5b3d35-d725-4944-845d-4f8e5197b865"><con:configuration><token>"errorCode":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sessionId" value="79BCAF92AB3D405DA33D3C4937AE7073"/>
  <con:entry key="userId" value=""/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="dataScript" id="7ef41693-2fd2-4402-9555-186b2fe3b1be"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import groovy.json.JsonSlurper;

//def properties = testRunner.testCase.getTestStepByName( "Properties");
def response = testRunner.testCase.testSteps["getUser"].testRequest.response.responseContent;




//def registerString			= properties.getPropertyValue( "data" );
log.info response;


def jsonObj = new JsonSlurper().parseText( response);
def String firstName = jsonObj.firstName;
def String lastName = jsonObj.lastName;
def String email = jsonObj.email;
def String phone = jsonObj.phone;
def String errorCode = jsonObj.errorCode;
def String avatar = jsonObj.avatar;




 testRunner.testCase.setPropertyValue( "firstName",firstName);
 testRunner.testCase.setPropertyValue( "lastName",lastName);
 testRunner.testCase.setPropertyValue( "email",email);
 testRunner.testCase.setPropertyValue( "phone",phone);
 testRunner.testCase.setPropertyValue( "errorCode",errorCode);
 testRunner.testCase.setPropertyValue( "avatar",avatar);
</script></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="d861c0ed-4788-455e-9ccb-b95027b7ba15" disabled="true"><con:settings/><con:config><script>import com.eviware.soapui.support.*; 
//Get the TestCase Name to use it as a File Name. 
def testCase = testRunner.getTestCase() 
fileName= testCase.getName() 
//Get Current date time stamp to append the same in the file name. 
def date = new Date() 
def dts = date.format("yyyy-MM-dd-HH-mm-ss") 
//Write Request to a XML File and save it with Date Time stamp appended to your filename. 
def myXmlRequest = "D:/"+fileName+"Request_"+dts+".xml" 
def request = context.expand('${ConversionRate#Request}') 
log.info request;


def req = new File(myXmlRequest) 
req.write(request, "UTF-8") 
// Write Response to a XMl File and save it with Date Time stamp appended to your filename. 
def myXmlResponse = "D:/"+fileName+"Response_"+dts+".xml" 
def response = context.expand( '${ConversionRate#Response}' ) 

log.info response;


def res = new File(myXmlResponse) 
res.write(response, "UTF-8")</script></con:config></con:testStep><con:tearDownScript/><con:properties><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property><con:property><con:name>firstName</con:name><con:value>ТАТЬЯНА</con:value></con:property><con:property><con:name>lastName</con:name><con:value>КОМАРОВА</con:value></con:property><con:property><con:name>email</con:name><con:value>0003927437@rbs.test</con:value></con:property><con:property><con:name>phone</con:name><con:value>9166150899</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>avatar</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property></con:properties><con:reportScript/><con:reportParameters/><con:breakPoints><con:testStepId>7ef41693-2fd2-4402-9555-186b2fe3b1be</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="createInstallation" searchProperties="true" id="f4af830c-1223-4064-9070-f05e6a880ce4"><con:description>Данный запрос выполняется для подтверждения регистрации профиля клиента и связки после успешной верификации клиента по одноразовому проверочному паролю.
Требования к стойкости password - 5 цифр.</con:description><con:settings/><con:testStep type="calltestcase" name="startCompleteAuthInBank" id="3379da6b-8be0-42a8-a0c9-cebbb37649f5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>4a7fd5f7-0b4f-4514-a63e-aea13eee79f4</con:targetTestCase><con:properties><con:property><con:name>code</con:name><con:value>111111</con:value></con:property><con:property><con:name>isMob</con:name><con:value>true</con:value></con:property><con:property><con:name>mnemonic</con:name><con:value>iPhone 5s 10/06/2014 14:15:40</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>sessionId</con:name><con:value>EB98FA37B367482288F08EB6817AF72E</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property><con:property><con:name>isRegistered</con:name><con:value>true</con:value></con:property><con:property><con:name>UniqueDeviceId</con:name><con:value>0007719115</con:value></con:property><con:property><con:name>email</con:name><con:value>0007719115@rbs.test</con:value></con:property></con:properties><con:returnProperties><con:entry>mnemonic</con:entry><con:entry>errorCode</con:entry><con:entry>sessionId</con:entry><con:entry>endPoint</con:entry><con:entry>isRegistered</con:entry><con:entry>UniqueDeviceId</con:entry><con:entry>email</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="delay" name="Delay" id="fae766d0-b1db-438d-99cb-aab31e26991a"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="groovy" name="passwordScript" id="19e69f50-fc20-42b2-b184-198f6aeac391"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import org.apache.commons.lang.RandomStringUtils;
import org.apache.commons.lang.*;
import java.lang.Object;
import java.security.MessageDigest


def rand  = testRunner.testCase.getPropertyValue( "rand");
log.info rand;

if (rand =="true")
{
def String charset = ('0'..'9').join();
def String pass = RandomStringUtils.random(5, charset.toCharArray())
 testRunner.testCase.setPropertyValue( "pass",pass);
 log.info pass;
	}

	else {
		
		 testRunner.testCase.setPropertyValue( "pass","80428");
		
	}


</script></con:config></con:testStep><con:testStep type="transfer" name="PropertyTransfer" id="4209b2da-d006-4336-9a9a-d91853077079"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>sessionId</con:name><con:sourceType>sessionId</con:sourceType><con:sourceStep>startCompleteAuthInBank</con:sourceStep><con:targetType>sessionId</con:targetType><con:targetStep>createInstallation</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>email</con:name><con:sourceType>email</con:sourceType><con:sourceStep>startCompleteAuthInBank</con:sourceStep><con:targetType>email</con:targetType><con:targetStep>createInstallation</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>pass</con:name><con:sourceType>pass</con:sourceType><con:sourceStep>#TestCase#</con:sourceStep><con:targetType>password</con:targetType><con:targetStep>createInstallation</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>endPoint</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>startCompleteAuthInBank</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>createInstallation</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" ignoreEmpty="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>unicDeviceId</con:name><con:sourceType>UniqueDeviceId</con:sourceType><con:sourceStep>startCompleteAuthInBank</con:sourceStep><con:targetType>deviceId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>endPointo</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>startCompleteAuthInBank</con:sourceStep><con:targetType>endPoint</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="createInstallation" id="411a5c94-ff7a-4e2d-bace-cca48bc4766a"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/createInstallation.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createInstallation" mediaType="application/json" id="4252bec3-507e-4b75-b10a-91956ff359ae"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains" id="627d2956-0e8a-48f4-a844-a47944b83c05"><con:configuration><token>"errorCode":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="email" value="0007719115@rbs.test"/>
  <con:entry key="sessionId" value="EB98FA37B367482288F08EB6817AF72E"/>
  <con:entry key="password" value="80428"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="dataScript" id="50cb99a0-8d87-4b0e-af5d-9dd4e4e7f5fb"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import groovy.json.JsonSlurper;

//def properties = testRunner.testCase.getTestStepByName( "Properties");
def response = testRunner.testCase.testSteps["createInstallation"].testRequest.response.responseContent;




//def registerString			= properties.getPropertyValue( "data" );
log.info response;


def jsonObj = new JsonSlurper().parseText( response);
def String errorCode = jsonObj.errorCode;
 testRunner.testCase.setPropertyValue( "errorCode",errorCode);</script></con:config></con:testStep><con:properties><con:property><con:name>pass</con:name><con:value>80428</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>rand</con:name><con:value>false</con:value></con:property><con:property><con:name>deviceId</con:name><con:value>0007719115</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>50cb99a0-8d87-4b0e-af5d-9dd4e4e7f5fb</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>19e69f50-fc20-42b2-b184-198f6aeac391</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>607da7c6-ca82-4463-b839-25da4eb9c3cb</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>10bf2f4e-0e26-43b9-9f80-57f1e4373300</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>bb0d1436-626d-4859-9d03-14b75c8a98af</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>a3596f8a-01c2-40ea-a05c-2ac4a7ec8eb7</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e37fd26f-9ffa-4312-a21a-e870f41cfdbf</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="completeAuthInBank" searchProperties="true" id="4a7fd5f7-0b4f-4514-a63e-aea13eee79f4"><con:description>Данный запрос выполняется для верификации одноразового проверочного кода, отправленного по смс на доверенный номер телефона клиента.  
По умолчанию Платформой допускается 3 попытки ввода верификационного кода из смс. 
В случае, если все три попытки будут неуспешными, возможность регистрации с успользуемого устройства блокируется на N минут, 
после чего, пользователю необходимо выполнить регистрацию профиля заново.
</con:description><con:settings/><con:testStep type="calltestcase" name="startAuthInBank" id="afa43fe9-8abb-46e7-868c-182b219222e6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>41447139-6376-4a5e-83ae-267953b5543e</con:targetTestCase><con:properties><con:property><con:name>isRegression</con:name><con:value>false</con:value></con:property><con:property><con:name>type</con:name><con:value>ACCOUNT</con:value></con:property><con:property><con:name>value</con:name><con:value>40817810601230100934</con:value></con:property><con:property><con:name>os</con:name><con:value>iOS</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property><con:property><con:name>sessionId</con:name><con:value>4C23AAC7C6B54E1BA541F50714A84B71</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>uniqueDeviceId</con:name><con:value>0009646161</con:value></con:property><con:property><con:name>Pass</con:name><con:value>8042830</con:value></con:property><con:property><con:name>email</con:name><con:value>0009646161@rbs.test</con:value></con:property></con:properties><con:returnProperties><con:entry>endPoint</con:entry><con:entry>sessionId</con:entry><con:entry>errorCode</con:entry><con:entry>uniqueDeviceId</con:entry><con:entry>Pass</con:entry><con:entry>email</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="transfer" name="PropertyTransfer" id="c031c855-0633-4d18-a145-7a8a50856abb"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>sessionId</con:name><con:sourceType>sessionId</con:sourceType><con:sourceStep>startAuthInBank</con:sourceStep><con:targetType>sessionId</con:targetType><con:targetStep>completeAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>code</con:name><con:sourceType>code</con:sourceType><con:sourceStep>#TestCase#</con:sourceStep><con:targetType>code</con:targetType><con:targetStep>completeAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>isMobile</con:name><con:sourceType>isMob</con:sourceType><con:sourceStep>#TestCase#</con:sourceStep><con:targetType>isMobile</con:targetType><con:targetStep>completeAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endPointo</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>startAuthInBank</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>completeAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>sessionIdOut</con:name><con:sourceType>sessionId</con:sourceType><con:sourceStep>startAuthInBank</con:sourceStep><con:targetType>sessionId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>endPoint</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>startAuthInBank</con:sourceStep><con:targetType>endPoint</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>user</con:name><con:sourceType>uniqueDeviceId</con:sourceType><con:sourceStep>startAuthInBank</con:sourceStep><con:targetType>UniqueDeviceId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>email</con:name><con:sourceType>email</con:sourceType><con:sourceStep>startAuthInBank</con:sourceStep><con:targetType>email</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="completeAuthInBank" id="4ffe855b-3215-4864-b9e3-d1515cd674a7"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/completeAuthInBank.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="completeAuthInBank" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains" id="89f2d3a9-339e-4fe4-b17a-5c65c1556134"><con:configuration><token>"errorCode":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="sessionId" value="4C23AAC7C6B54E1BA541F50714A84B71"/>
  <con:entry key="code" value="111111"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="dataParser" id="8dbf6225-023b-4685-8d49-bec06a70590e"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import groovy.json.JsonSlurper;

//def properties = testRunner.testCase.getTestStepByName( "Properties");
def response = testRunner.testCase.testSteps["completeAuthInBank"].testRequest.response.responseContent;




//def registerString			= properties.getPropertyValue( "data" );
log.info response;


def jsonObj = new JsonSlurper().parseText( response);
def String isRegistered = jsonObj.isRegistered;
def String mnemonic = jsonObj.mnemonic;
def String errorCode = jsonObj.errorCode;



 testRunner.testCase.setPropertyValue( "isRegistered",isRegistered);
 testRunner.testCase.setPropertyValue( "mnemonic",mnemonic);
 testRunner.testCase.setPropertyValue( "errorCode",errorCode);
 

</script></con:config></con:testStep><con:properties><con:property><con:name>code</con:name><con:value>111111</con:value></con:property><con:property><con:name>isMob</con:name><con:value>true</con:value></con:property><con:property><con:name>mnemonic</con:name><con:value>iPhone 5s 10/06/2014 14:15:42</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>sessionId</con:name><con:value>4C23AAC7C6B54E1BA541F50714A84B71</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property><con:property><con:name>isRegistered</con:name><con:value>true</con:value></con:property><con:property><con:name>UniqueDeviceId</con:name><con:value>0009646161</con:value></con:property><con:property><con:name>email</con:name><con:value>0009646161@rbs.test</con:value></con:property></con:properties><con:reportParameters/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="startAuthInBank" searchProperties="true" id="41447139-6376-4a5e-83ae-267953b5543e"><con:description>Данный запрос выполняется, когда пользователь выбрал тип первичного идентификатора, ввел его значение и нажал «Зарегистироваться». 
</con:description><con:settings><con:setting id="IncludeResults">true</con:setting></con:settings><con:testStep type="properties" name="Properties" id="607da7c6-ca82-4463-b839-25da4eb9c3cb"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>login</con:name><con:value>0009237538</con:value></con:property><con:property><con:name>email</con:name><con:value>0009237538@rbs.test</con:value></con:property><con:property><con:name>pass</con:name><con:value>8042830</con:value></con:property><con:property><con:name>DeviceModel</con:name><con:value>iPhone 5s</con:value></con:property><con:property><con:name>osVersion</con:name><con:value>7.2</con:value></con:property><con:property><con:name>osType</con:name><con:value>iOS</con:value></con:property><con:property><con:name>imei</con:name><con:value/></con:property><con:property><con:name>data</con:name><con:value>{"sessionId":"89C7EC61F93C41488B4B2CDF9DFB30AA","errorCode":0}</con:value></con:property><con:property><con:name>sessionId</con:name><con:value/></con:property><con:property><con:name>errorCode</con:name><con:value/></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="createAccount" id="10bf2f4e-0e26-43b9-9f80-57f1e4373300"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import org.apache.commons.lang.RandomStringUtils;
import org.apache.commons.lang.*;
import java.lang.Object;
import java.security.MessageDigest


//==============================

def properties = testRunner.testCase.getTestStepByName( "Properties");
def isRegression = testRunner.testCase.getPropertyValue( "isRegression");
def os = testRunner.testCase.getPropertyValue( "os");

if (os == "Android")
{
	properties.setPropertyValue( "DeviceModel", "Samsung GALAXY Note 3");
	properties.setPropertyValue( "osVersion", "4.4.3" );
	properties.setPropertyValue( "osType", "ANDROID");
	properties.setPropertyValue( "imei", "357507054436269/01");

	}

else if(os == "iOS")
{
	properties.setPropertyValue( "DeviceModel", "iPhone 5s");
	properties.setPropertyValue( "osVersion", "7.2" );
	properties.setPropertyValue( "osType", "iOS");
	properties.setPropertyValue( "imei", "");
	
	}


//----------------------------------------------------

createPhone(properties);

// генерируем логин (телефон) пользователя

def createPhone(properties)
{
def String charset = ('0'..'9').join();
def String phone = RandomStringUtils.random(7, charset.toCharArray())
def  phone1 = "000"+phone;
def email = phone1+"@rbs.test";
properties.setPropertyValue( "login", phone1);
properties.setPropertyValue( "email", email);
 testRunner.testCase.setPropertyValue( "email",email);
}

</script></con:config></con:testStep><con:testStep type="transfer" name="PropertyTransfer" id="dc332258-961d-4fcb-8987-5a3195b62719"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>login</con:name><con:sourceType>login</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>uniqueDeviceId</con:targetType><con:targetStep>startAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>deviceModel</con:name><con:sourceType>DeviceModel</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>deviceModel</con:targetType><con:targetStep>startAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>type</con:name><con:sourceType>type</con:sourceType><con:sourceStep>#TestCase#</con:sourceStep><con:targetType>bankIdType</con:targetType><con:targetStep>startAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>value</con:name><con:sourceType>value</con:sourceType><con:sourceStep>#TestCase#</con:sourceStep><con:targetType>bankId</con:targetType><con:targetStep>startAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>endPoint</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>#Project#</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>startAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>EndPointo</con:name><con:sourceType>endPoint</con:sourceType><con:sourceStep>#Project#</con:sourceStep><con:targetType>endPoint</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>ostype</con:name><con:sourceType>osType</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>osType</con:targetType><con:targetStep>startAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>osVersion</con:name><con:sourceType>osVersion</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>osVersion</con:targetType><con:targetStep>startAuthInBank</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>imei</con:name><con:sourceType>imei</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>imei</con:targetType><con:targetStep>startAuthInBank</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="startAuthInBank" id="bb0d1436-626d-4859-9d03-14b75c8a98af"><con:settings/><con:config service="https://test.paymentgate.ru" resourcePath="/startAuthInBank.do" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="startAuthInBank" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://test.paymentgate.ru/bmbank/3/bm</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains" id="a02a59c6-591c-48e5-9f3b-883e6929d8bb"><con:configuration><token>"errorCode":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:password>8042830</con:password><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="osVersion" value="7.2"/>
  <con:entry key="uniqueDeviceId" value="0009237538"/>
  <con:entry key="deviceModel" value="iPhone 5s"/>
  <con:entry key="bankId" value="40817810601230100934"/>
</con:parameters><con:parameterOrder><con:entry>deviceModel</con:entry><con:entry>uniqueDeviceId</con:entry><con:entry>bankIdType</con:entry><con:entry>bankId</con:entry><con:entry>isMobile</con:entry><con:entry>osVersion</con:entry><con:entry>geo</con:entry><con:entry>appVersion</con:entry><con:entry>osType</con:entry><con:entry>imei</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="ResponseTransfer" id="a3596f8a-01c2-40ea-a05c-2ac4a7ec8eb7"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>data</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>startAuthInBank</con:sourceStep><con:targetType>data</con:targetType><con:targetStep>Properties</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>uniqueDeviceId</con:name><con:sourceType>login</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>uniqueDeviceId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="dataParser" id="e37fd26f-9ffa-4312-a21a-e870f41cfdbf"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import groovy.json.JsonSlurper;

def properties = testRunner.testCase.getTestStepByName( "Properties");

def registerString			= properties.getPropertyValue( "data" );
log.info registerString	;
def jsonObj = new JsonSlurper().parseText( registerString);
def String sessionId = jsonObj.sessionId;
def String errorCode = jsonObj.errorCode;

 testRunner.testCase.setPropertyValue( "sessionId",sessionId);
 testRunner.testCase.setPropertyValue( "errorCode",errorCode);
//propertiesRegisterTransfer.setPropertyValue( "orderId", orderId);


def request = context.expand('${ConversionRate#Request}');
log.info request;
//def response = testRunner.testCase.testSteps["startAuthInBank"].testRequest.response.getRequestContent()
//log.info response;
//
//def qwe = testRunner.testCase.testSteps["startAuthInBank"].testRequest.getProperty
//log.info qwe;</script></con:config></con:testStep><con:tearDownScript/><con:properties><con:property><con:name>isRegression</con:name><con:value>false</con:value></con:property><con:property><con:name>type</con:name><con:value>ACCOUNT</con:value></con:property><con:property><con:name>value</con:name><con:value>40817810601230100934</con:value></con:property><con:property><con:name>os</con:name><con:value>iOS</con:value></con:property><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property><con:property><con:name>sessionId</con:name><con:value>89C7EC61F93C41488B4B2CDF9DFB30AA</con:value></con:property><con:property><con:name>errorCode</con:name><con:value>0</con:value></con:property><con:property><con:name>uniqueDeviceId</con:name><con:value>0009237538</con:value></con:property><con:property><con:name>Pass</con:name><con:value>8042830</con:value></con:property><con:property><con:name>email</con:name><con:value>0009237538@rbs.test</con:value></con:property></con:properties><con:reportScript>params.ReportTitle = params.ReportTitle + " - " + new.Date().format('MM/dd/yy');</con:reportScript><con:reportParameters/><con:breakPoints><con:testStepId>dc332258-961d-4fcb-8987-5a3195b62719</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="accountValidator" searchProperties="true" id="15be7298-51d4-40d0-9d5a-0a1129b6ddde" disabled="true"><con:settings/><con:testStep type="groovy" name="accountValidator" id="76106858-4e2e-4478-a860-4f77922cb104"><con:settings/><con:config><script>import java.util.*;
import java.text.*;
import org.apache.commons.lang.StringUtils;
import java.util.regex.Pattern;

//import static ru.bpc.core.controller.transfer.validator.ErrorCode.INVALID_BANK_ACCOUNT;

public class AccountValidator implements IValidator&lt;String> {
    private static Pattern ACCOUNT_PATTERN = Pattern.compile("\\d{20}");
    private static int[] WEIGHTS = new int[]{7, 1, 3};
    private static int BIK_POSTFIX_LENGTH = 3;
    private String bik;

    public AccountValidator(String bik) {
        if (StringUtils.isBlank(bik) || bik.length() &lt; BIK_POSTFIX_LENGTH) throw new IllegalArgumentException();
        this.bik = bik;
    }

    @Override
    public void validate(String account) throws ValidationException {
        if (StringUtils.isBlank(account)) {
          log.info ("INVALID_BANK_ACCOUNT");
        }
        if (!ACCOUNT_PATTERN.matcher(account).matches()) {
           log.info ("INVALID_BANK_ACCOUNT");
        }
        String str = bik.substring(bik.length() - BIK_POSTFIX_LENGTH) + account;
        int controlSum = 0;
        for (int i = 0; i &lt; str.length(); i++) {
            int digit = Integer.valueOf(str.substring(i, i + 1));
            controlSum += digit * WEIGHTS[i % WEIGHTS.length];
        }
        if (controlSum % 10 != 0) {
           log.info ("INVALID_BANK_ACCOUNT");
        }
    }
}</script></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="errorCodes" searchProperties="true" id="c2d063c8-58e2-410e-9827-1e64e101c510" disabled="true"><con:settings/><con:properties/><con:reportParameters/><con:breakPoints><con:testStepId>f66b19ac-329f-442f-9446-912659732ea3</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>a53099bb-cf3f-4794-a1df-b4e60eff2739</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>ea724d6d-a14c-425b-9be0-38d9bf0b61fa</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>91411391-c54c-49e6-8d27-8f24890aa89a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>546a62ea-8ca5-46c6-a0a5-b2068b7ee8f4</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>23e06922-fd87-422a-bf96-0da1003c799a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>aa54d70e-c793-4cf0-a076-e9828c6b3c3d</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>b4916ef6-3f04-49a1-ad67-e129f8687f10</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>6b9a0e20-001e-4111-b285-850f308ca101</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase><con:properties/><con:setupScript/><con:reportParameters/></con:testSuite><con:requirements/><con:properties><con:property><con:name>endPoint</con:name><con:value>https://test.paymentgate.ru/bmbank/3/bm</con:value></con:property></con:properties><con:wssContainer/><con:databaseConnectionContainer/><con:reporting><con:xmlTemplates/><con:parameters/></con:reporting><con:sensitiveInformation/></con:soapui-project>